// Code generated by schema2go. DO NOT EDIT.
// Generated: 2026-02-26T22:01:03+05:30

package alicloud

import (
	"encoding/json"
	"fmt"

	"github.com/plantoncloud/mcp-server-planton/internal/parse"
	"google.golang.org/protobuf/types/known/structpb"
)

var (
	_ = json.Marshal
	_ = fmt.Errorf
	_ = parse.ValidateHeader
	_ = (*structpb.Struct)(nil)
)

// alicloud-dns-zone
type AliCloudDnsZoneSpecInput struct {
	// Alibaba Cloud region for provider initialization.
	//  While Alidns is a global service, the provider requires a region.
	//  Examples: "cn-hangzhou", "cn-shanghai", "us-west-1", "ap-southeast-1".
	Region string `json:"region" jsonschema:"required,Alibaba Cloud region for provider initialization. While Alidns is a global service; the provider requires a region. Examples: 'cn-hangzhou'; 'cn-shanghai'; 'us-west-1'; 'ap-southeast-1'."`
	// The domain name to manage in Alidns.
	//  Must be a valid domain (e.g., "example.com", "sub.example.com").
	//  Cannot be changed after creation (ForceNew).
	DomainName string `json:"domain_name" jsonschema:"required,The domain name to manage in Alidns. Must be a valid domain (e.g.; 'example.com'; 'sub.example.com'). Cannot be changed after creation (ForceNew)."`
	// Alidns domain group ID for organizational grouping.
	//  Groups help organize large numbers of domains in the Alidns console.
	//  If omitted, the domain is placed in the default group.
	GroupId string `json:"group_id,omitempty" jsonschema:"Alidns domain group ID for organizational grouping. Groups help organize large numbers of domains in the Alidns console. If omitted; the domain is placed in the default group."`
	// Remark or description for the domain.
	//  Visible in the Alidns console; useful for noting the domain's purpose.
	Remark string `json:"remark,omitempty" jsonschema:"Remark or description for the domain. Visible in the Alidns console; useful for noting the domain's purpose."`
	// Alibaba Cloud resource group ID for access control and cost attribution.
	//  If omitted, the domain is placed in the account's default resource group.
	//  Cannot be changed after creation (ForceNew).
	ResourceGroupId string `json:"resource_group_id,omitempty" jsonschema:"Alibaba Cloud resource group ID for access control and cost attribution. If omitted; the domain is placed in the account's default resource group. Cannot be changed after creation (ForceNew)."`
	// Tags to apply to the domain.
	Tags map[string]string `json:"tags,omitempty" jsonschema:"Tags to apply to the domain."`
}

func (s *AliCloudDnsZoneSpecInput) validate() error {
	if s.Region == "" {
		return fmt.Errorf("region is required")
	}
	if s.DomainName == "" {
		return fmt.Errorf("domain_name is required")
	}
	return nil
}

func (s *AliCloudDnsZoneSpecInput) applyDefaults() {
}

func (s *AliCloudDnsZoneSpecInput) toMap() map[string]any {
	m := make(map[string]any)
	m["region"] = s.Region
	m["domain_name"] = s.DomainName
	if s.GroupId != "" {
		m["group_id"] = s.GroupId
	}
	if s.Remark != "" {
		m["remark"] = s.Remark
	}
	if s.ResourceGroupId != "" {
		m["resource_group_id"] = s.ResourceGroupId
	}
	if len(s.Tags) > 0 {
		m["tags"] = s.Tags
	}
	return m
}

// ParseAliCloudDnsZone validates and normalizes a AliCloudDnsZone cloud_object.
func ParseAliCloudDnsZone(cloudObject map[string]any) (*structpb.Struct, error) {
	if err := parse.ValidateHeader(cloudObject, "ali-cloud.openmcf.org/v1", "AliCloudDnsZone"); err != nil {
		return nil, err
	}

	specMap, err := parse.ExtractSpecMap(cloudObject)
	if err != nil {
		return nil, err
	}

	specBytes, err := json.Marshal(specMap)
	if err != nil {
		return nil, fmt.Errorf("marshal spec: %w", err)
	}

	var spec AliCloudDnsZoneSpecInput
	if err := json.Unmarshal(specBytes, &spec); err != nil {
		return nil, fmt.Errorf("invalid spec: %w", err)
	}

	if err := spec.validate(); err != nil {
		return nil, err
	}

	spec.applyDefaults()

	return parse.RebuildCloudObject(cloudObject, spec.toMap())
}
