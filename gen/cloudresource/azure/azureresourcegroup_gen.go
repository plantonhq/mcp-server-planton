// Code generated by schema2go. DO NOT EDIT.
// Generated: 2026-02-27T00:55:48+05:30

package azure

import (
	"encoding/json"
	"fmt"

	"github.com/plantonhq/mcp-server-planton/internal/parse"
	"google.golang.org/protobuf/types/known/structpb"
)

var (
	_ = json.Marshal
	_ = fmt.Errorf
	_ = parse.ValidateHeader
	_ = (*structpb.Struct)(nil)
)

// AzureResourceGroup is the top-level API resource for an Azure Resource Group.
//
//	Resource groups are the foundational organizational unit in Azure -- every other
//	Azure resource lives inside one.
type AzureResourceGroupSpecInput struct {
	// The name of the resource group.
	//  Must be unique within the Azure subscription.
	//  Allowed characters: alphanumeric, underscores, hyphens, periods, and parentheses.
	//  Cannot end with a period. Maximum 90 characters.
	Name string `json:"name" jsonschema:"required,The name of the resource group. Must be unique within the Azure subscription. Allowed characters: alphanumeric; underscores; hyphens; periods; and parentheses. Cannot end with a period. Maximum 90 cha..."`
	// The Azure region where the resource group will be created.
	//  Examples: "eastus", "westus2", "westeurope", "southeastasia".
	//  Note: Resources within the resource group can be in different regions,
	//  but the resource group's region determines where its metadata is stored.
	Region string `json:"region" jsonschema:"required,The Azure region where the resource group will be created. Examples: 'eastus'; 'westus2'; 'westeurope'; 'southeastasia'. Note: Resources within the resource group can be in different regions; but the ..."`
}

func (s *AzureResourceGroupSpecInput) validate() error {
	if s.Name == "" {
		return fmt.Errorf("name is required")
	}
	if s.Region == "" {
		return fmt.Errorf("region is required")
	}
	return nil
}

func (s *AzureResourceGroupSpecInput) applyDefaults() {
}

func (s *AzureResourceGroupSpecInput) toMap() map[string]any {
	m := make(map[string]any)
	m["name"] = s.Name
	m["region"] = s.Region
	return m
}

// ParseAzureResourceGroup validates and normalizes a AzureResourceGroup cloud_object.
func ParseAzureResourceGroup(cloudObject map[string]any) (*structpb.Struct, error) {
	if err := parse.ValidateHeader(cloudObject, "azure.openmcf.org/v1", "AzureResourceGroup"); err != nil {
		return nil, err
	}

	specMap, err := parse.ExtractSpecMap(cloudObject)
	if err != nil {
		return nil, err
	}

	specBytes, err := json.Marshal(specMap)
	if err != nil {
		return nil, fmt.Errorf("marshal spec: %w", err)
	}

	var spec AzureResourceGroupSpecInput
	if err := json.Unmarshal(specBytes, &spec); err != nil {
		return nil, fmt.Errorf("invalid spec: %w", err)
	}

	if err := spec.validate(); err != nil {
		return nil, err
	}

	spec.applyDefaults()

	return parse.RebuildCloudObject(cloudObject, spec.toMap())
}
