// Code generated by schema2go. DO NOT EDIT.
// Generated: 2026-02-26T21:50:49+05:30
// Shared types used by multiple providers in the hetznercloud package.

package hetznercloud

import "fmt"

var _ = fmt.Errorf

// NetworkAttachment attaches the load balancer to a Hetzner Cloud
//
//	private network. A load balancer can be attached to at most one
//	network.
//
//	When attached, the load balancer receives a private IP within the
//	network's subnet range. Server targets with use_private_ip=true
//	then receive traffic over the private network.
type NetworkAttachmentInput struct {
	// Network to attach the load balancer to.
	//
	//  Accepts a literal Hetzner Cloud network ID (as a string) or a
	//  reference to a HetznerCloudNetwork resource's output via valueFrom.
	//
	//  Changing this value forces replacement of the network attachment.
	//
	//  Example (reference):
	//    networkId:
	//      valueFrom:
	//       ...
	NetworkId string `json:"network_id" jsonschema:"required,Network to attach the load balancer to. Accepts a literal Hetzner Cloud network ID (as a string) or a reference to a HetznerCloudNetwork resource's output via valueFrom. Changing this value forces rep..."`
	// Specific IP address to assign to the load balancer within the
	//  network's subnet range. If omitted, Hetzner Cloud auto-assigns
	//  an IP.
	Ip string `json:"ip,omitempty" jsonschema:"Specific IP address to assign to the load balancer within the network's subnet range. If omitted; Hetzner Cloud auto-assigns an IP."`
	// Enable the load balancer's public interface. When false, the load
	//  balancer is only reachable via its private network IP.
	//
	//  Default: true
	//
	//  IMPORTANT: This uses optional bool because proto3 bool defaults to
	//  false, which would silently disable the public interface. The
	//  optional keyword + default an...
	EnablePublicInterface bool `json:"enable_public_interface,omitempty" jsonschema:"Enable the load balancer's public interface. When false; the load balancer is only reachable via its private network IP. Default: true IMPORTANT: This uses optional bool because proto3 bool defaults t..."`
}

func (s *NetworkAttachmentInput) validate() error {
	if s.NetworkId == "" {
		return fmt.Errorf("network_id is required")
	}
	return nil
}

func (s *NetworkAttachmentInput) applyDefaults() {
	// default: EnablePublicInterface = true (applied at zero-value)
}

func (s *NetworkAttachmentInput) toMap() map[string]any {
	m := make(map[string]any)
	m["network_id"] = s.NetworkId
	if s.Ip != "" {
		m["ip"] = s.Ip
	}
	if s.EnablePublicInterface {
		m["enable_public_interface"] = s.EnablePublicInterface
	}
	return m
}
