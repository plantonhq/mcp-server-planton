{
  "name": "DigitalOceanKubernetesCluster",
  "kind": "DigitalOceanKubernetesCluster",
  "cloudProvider": "digitalocean",
  "apiVersion": "digital-ocean.openmcf.org/v1",
  "description": "digital-ocean-kubernetes-cluster",
  "protoPackage": "org.openmcf.provider.digitalocean.digitaloceankubernetescluster.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/digitalocean/digitaloceankubernetescluster/v1/api.proto",
    "spec": "org/openmcf/provider/digitalocean/digitaloceankubernetescluster/v1/spec.proto"
  },
  "spec": {
    "name": "DigitalOceanKubernetesClusterSpec",
    "fields": [
      {
        "name": "ClusterName",
        "jsonName": "clusterName",
        "protoField": "cluster_name",
        "type": {
          "kind": "string"
        },
        "description": "The name of the Kubernetes cluster. This will be the cluster's identifier in DigitalOcean.\n Constraints: Must be unique per account. (A maximum length or character set may be enforced by DigitalOcean, e.g., alphanumeric and hyphens.)",
        "required": true,
        "validation": {
          "required": true
        }
      },
      {
        "name": "Region",
        "jsonName": "region",
        "protoField": "region",
        "type": {
          "kind": "enum",
          "enumType": "org.openmcf.provider.digitalocean.DigitalOceanRegion",
          "enumValues": [
            "nyc3",
            "sfo3",
            "fra1",
            "sgp1",
            "lon1",
            "tor1",
            "blr1",
            "ams3"
          ]
        },
        "description": "The DigitalOcean region where the cluster will be created.\n Determines where the cluster's control plane and nodes are provisioned.",
        "required": true,
        "validation": {
          "required": true
        }
      },
      {
        "name": "KubernetesVersion",
        "jsonName": "kubernetesVersion",
        "protoField": "kubernetes_version",
        "type": {
          "kind": "string"
        },
        "description": "The Kubernetes version to use for the cluster (semantic versioning).\n Must be a supported version on DigitalOcean (e.g., 1.22+).\n Example: \"1.26.3\"",
        "required": true,
        "validation": {
          "required": true
        }
      },
      {
        "name": "Vpc",
        "jsonName": "vpc",
        "protoField": "vpc",
        "type": {
          "kind": "string"
        },
        "description": "Reference to the DigitalOcean VPC where the cluster's control plane will reside.\n This must be an existing VPC in the same region. Only the VPC's name is needed; the system will resolve it to the VPC ID.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "DigitalOceanVpc",
        "referenceFieldPath": "metadata.name"
      },
      {
        "name": "HighlyAvailable",
        "jsonName": "highlyAvailable",
        "protoField": "highly_available",
        "type": {
          "kind": "bool"
        },
        "description": "Whether to enable a highly available control plane for the cluster.\n If true, the cluster is created with a High Availability control plane (multiple masters for increased uptime, additional cost).\n Default: false.",
        "required": false,
        "recommendedDefault": "false"
      },
      {
        "name": "AutoUpgrade",
        "jsonName": "autoUpgrade",
        "protoField": "auto_upgrade",
        "type": {
          "kind": "bool"
        },
        "description": "Whether to enable automatic patch upgrades for the cluster.\n If true, the cluster will automatically upgrade to new patch releases of Kubernetes when available.",
        "required": false
      },
      {
        "name": "DisableSurgeUpgrade",
        "jsonName": "disableSurgeUpgrade",
        "protoField": "disable_surge_upgrade",
        "type": {
          "kind": "bool"
        },
        "description": "Whether to disable surge upgrades for the cluster.\n If false(default), cluster upgrades will temporarily provision extra nodes to minimize downtime during updates.",
        "required": false
      },
      {
        "name": "MaintenanceWindow",
        "jsonName": "maintenanceWindow",
        "protoField": "maintenance_window",
        "type": {
          "kind": "string"
        },
        "description": "Scheduled maintenance window for cluster updates (format: \"day=HH:MM\" or \"any=HH:MM\").\n Examples: \"sunday=02:00\" or \"any=00:00\"\n If not specified, DigitalOcean will apply updates at any time.",
        "required": false
      },
      {
        "name": "RegistryIntegration",
        "jsonName": "registryIntegration",
        "protoField": "registry_integration",
        "type": {
          "kind": "bool"
        },
        "description": "Whether to enable DigitalOcean Container Registry (DOCR) integration.\n If true, automatically creates imagePullSecrets in the cluster for pulling private images from DOCR.\n Default: false.",
        "required": false
      },
      {
        "name": "ControlPlaneFirewallAllowedIps",
        "jsonName": "controlPlaneFirewallAllowedIps",
        "protoField": "control_plane_firewall_allowed_ips",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "List of allowed IP addresses (CIDR notation) for control plane firewall.\n Restricts Kubernetes API server access to specified IPs for security.\n If empty, API server is publicly accessible (not recommended for production).\n Example: [\"203.0.113.5/32\", \"198.51.100.0/24\"]",
        "required": false
      },
      {
        "name": "Tags",
        "jsonName": "tags",
        "protoField": "tags",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "A list of tags to apply to the cluster.\n Tags help organize and identify the cluster within DigitalOcean.",
        "required": false
      },
      {
        "name": "DefaultNodePool",
        "jsonName": "defaultNodePool",
        "protoField": "default_node_pool",
        "type": {
          "kind": "message",
          "messageType": "DigitalOceanKubernetesClusterDefaultNodePool"
        },
        "description": "Reference to the default node pool for the cluster.",
        "required": true,
        "validation": {
          "required": true
        }
      }
    ]
  },
  "nestedTypes": [
    {
      "name": "DigitalOceanKubernetesClusterDefaultNodePool",
      "description": "DigitalOcean Kubernetes Cluster Default Node Pool",
      "protoType": "org.openmcf.provider.digitalocean.digitaloceankubernetescluster.v1.DigitalOceanKubernetesClusterDefaultNodePool",
      "fields": [
        {
          "name": "Size",
          "jsonName": "size",
          "protoField": "size",
          "type": {
            "kind": "string"
          },
          "description": "The slug identifier for the Droplet size to use for each node (e.g., \"s-4vcpu-8gb\").\n This defines the CPU and memory of the nodes in the pool.",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "NodeCount",
          "jsonName": "nodeCount",
          "protoField": "node_count",
          "type": {
            "kind": "uint32"
          },
          "description": "The number of nodes to provision in the pool.\n Must be at least 1. If auto_scale is enabled, this acts as the initial desired node count.",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "AutoScale",
          "jsonName": "autoScale",
          "protoField": "auto_scale",
          "type": {
            "kind": "bool"
          },
          "description": "Enable auto-scaling for this node pool.\n If true, the platform will manage node count between min_nodes and max_nodes.",
          "required": false
        },
        {
          "name": "MinNodes",
          "jsonName": "minNodes",
          "protoField": "min_nodes",
          "type": {
            "kind": "uint32"
          },
          "description": "Minimum number of nodes when auto-scaling is enabled.\n Required if auto_scale is true.",
          "required": false
        },
        {
          "name": "MaxNodes",
          "jsonName": "maxNodes",
          "protoField": "max_nodes",
          "type": {
            "kind": "uint32"
          },
          "description": "Maximum number of nodes when auto-scaling is enabled.\n Required if auto_scale is true.",
          "required": false
        }
      ]
    }
  ]
}
