{
  "name": "AwsRoute53Zone",
  "kind": "AwsRoute53Zone",
  "cloudProvider": "aws",
  "apiVersion": "aws.openmcf.org/v1",
  "description": "aws-route53-zone",
  "protoPackage": "org.openmcf.provider.aws.awsroute53zone.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/aws/awsroute53zone/v1/api.proto",
    "spec": "org/openmcf/provider/aws/awsroute53zone/v1/spec.proto"
  },
  "spec": {
    "name": "AwsRoute53ZoneSpec",
    "fields": [
      {
        "name": "Region",
        "jsonName": "region",
        "protoField": "region",
        "type": {
          "kind": "string"
        },
        "description": "The AWS region where the resource will be created.\n Example: \"us-west-2\", \"eu-west-1\"",
        "required": false,
        "validation": {
          "minLength": 1
        }
      },
      {
        "name": "IsPrivate",
        "jsonName": "isPrivate",
        "protoField": "is_private",
        "type": {
          "kind": "bool"
        },
        "description": "Flag to indicate if this is a private hosted zone.\n Private zones are used for split-horizon DNS and only resolve within associated VPCs.\n Public zones (is_private=false) resolve globally on the internet.\n Default: false (public zone)",
        "required": false
      },
      {
        "name": "VpcAssociations",
        "jsonName": "vpcAssociations",
        "protoField": "vpc_associations",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "Route53VpcAssociation"
          }
        },
        "description": "VPC associations for private hosted zones.\n Only applicable when is_private is true.\n Each association allows the private zone to resolve DNS queries from the specified VPC.\n You must enable enableDnsHostnames and enableDnsSupport in your VPC settings.",
        "required": false
      },
      {
        "name": "EnableQueryLogging",
        "jsonName": "enableQueryLogging",
        "protoField": "enable_query_logging",
        "type": {
          "kind": "bool"
        },
        "description": "Enable query logging for this hosted zone.\n Query logs are sent to CloudWatch Logs and can be used for debugging,\n security monitoring, and understanding query patterns.\n Warning: High-traffic domains generate large log volumes.",
        "required": false
      },
      {
        "name": "QueryLogGroupName",
        "jsonName": "queryLogGroupName",
        "protoField": "query_log_group_name",
        "type": {
          "kind": "string"
        },
        "description": "CloudWatch Log Group name for query logs (required if enable_query_logging is true).\n The log group must exist before enabling query logging.",
        "required": false
      },
      {
        "name": "EnableDnssec",
        "jsonName": "enableDnssec",
        "protoField": "enable_dnssec",
        "type": {
          "kind": "bool"
        },
        "description": "Enable DNSSEC for the hosted zone.\n DNSSEC adds cryptographic signatures to DNS records to prevent spoofing attacks.\n Note: Requires additional configuration at domain registrar level.",
        "required": false
      },
      {
        "name": "Records",
        "jsonName": "records",
        "protoField": "records",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "Route53DnsRecord"
          }
        },
        "description": "The DNS records that are added to the zone.\n Each record represents a DNS resource record with support for basic records (A, AAAA, CNAME, MX, TXT),\n alias records (pointing to AWS resources), and advanced routing policies.\n These records define how your domain or subdomains are routed to your resources.",
        "required": false
      }
    ]
  },
  "nestedTypes": [
    {
      "name": "Route53AliasTarget",
      "description": "Route53AliasTarget defines an alias record target.\n Alias records are a Route53-specific extension to DNS that allows you to route traffic\n to AWS resources without the limitations of CNAME records.\n\n Key benefits:\n   - Works at zone apex (example.com) where CNAME is not allowed\n   - No query charges for alias queries to AWS resources\n   - Automatic updates when target resource's IP changes\n\n Common use cases:\n   - Point apex domain to CloudFront distribution\n   - Point domain to Application/Network Load Balancer\n   - Point domain to S3 website endpoint\n   - Point domain to API Gateway\n   - Point domain to another Route53 record in same zone",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53AliasTarget",
      "fields": [
        {
          "name": "DnsName",
          "jsonName": "dnsName",
          "protoField": "dns_name",
          "type": {
            "kind": "string"
          },
          "description": "The DNS name of the target resource.\n Examples:\n   - CloudFront: \"d1234abcd.cloudfront.net\"\n   - ALB: \"my-alb-1234567890.us-east-1.elb.amazonaws.com\"\n   - S3 website: \"my-bucket.s3-website-us-east-1.amazonaws.com\"\n   - API Gateway: \"abc123.execute-api.us-east-1.amazonaws.com\"",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "HostedZoneId",
          "jsonName": "hostedZoneId",
          "protoField": "hosted_zone_id",
          "type": {
            "kind": "string"
          },
          "description": "The hosted zone ID of the target resource.\n Each AWS service has a specific hosted zone ID per region.\n Common hosted zone IDs:\n   - CloudFront: \"Z2FDTNDATAQYW2\" (global)\n   - ALB (us-east-1): \"Z35SXDOTRQ7X7K\"\n   - S3 website (us-east-1): \"Z3AQBSTGFYJSTF\"\n\n Note: This is NOT your Route53 zone ID - it's the AWS service's zone ID.\n The Pulumi/Terraform provider typically handles this automatically.",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "EvaluateTargetHealth",
          "jsonName": "evaluateTargetHealth",
          "protoField": "evaluate_target_health",
          "type": {
            "kind": "bool"
          },
          "description": "Evaluate target health.\n If true, Route53 checks the health of the target resource before responding to queries.\n Useful for automatic failover when combined with health checks.\n Default: false",
          "required": false
        }
      ]
    },
    {
      "name": "Route53DnsRecord",
      "description": "Route53DnsRecord represents a DNS resource record in the Route53 zone.\n It supports basic DNS records, alias records (Route53's killer feature), and advanced routing policies\n for traffic management (weighted, latency-based, failover, geolocation).\n\n This message allows you to specify detailed DNS configurations for your domain,\n enabling fine-grained control over how your domain name resolves and how traffic is routed.",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53DnsRecord",
      "fields": [
        {
          "name": "RecordType",
          "jsonName": "recordType",
          "protoField": "record_type",
          "type": {
            "kind": "enum",
            "enumType": "org.openmcf.shared.networking.enums.dnsrecordtype.DnsRecordType",
            "enumValues": [
              "A",
              "AAAA",
              "ALIAS",
              "CNAME",
              "MX",
              "NS",
              "PTR",
              "SOA",
              "SRV",
              "TXT",
              "CAA"
            ]
          },
          "description": "The DNS record type.\n This specifies the type of DNS record, such as A, AAAA, CNAME, MX, TXT, etc.\n The record type determines how the DNS query is processed and what kind of data is returned.",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "The name of the DNS record, e.g., \"example.com\" or \"dev.example.com\".\n This is the domain name or subdomain for which the DNS record applies.\n Route53 will automatically append a trailing dot if not provided.\n Supports wildcard records: \"*.example.com\" for catch-all subdomains.",
          "required": true,
          "validation": {
            "required": true,
            "pattern": "^(?:\\*\\.[A-Za-z0-9\\-\\.]+|[A-Za-z0-9\\-\\.]+\\.[A-Za-z]{2,}|[A-Za-z0-9\\-\\.]+)$"
          }
        },
        {
          "name": "TtlSeconds",
          "jsonName": "ttlSeconds",
          "protoField": "ttl_seconds",
          "type": {
            "kind": "int32"
          },
          "description": "The Time To Live (TTL) for the DNS record, in seconds.\n TTL specifies how long DNS resolvers should cache the DNS record before querying again.\n Default: 300 seconds (5 minutes) - balances caching efficiency with change propagation speed.\n Common values:\n   - 60 seconds: For records you might change during incidents (faster cutover)\n   - 300 seconds: Default for most records\n   - 86400 seconds (1 day): For static records (MX, NS) to reduce query costs\n Note: TTL is not applicable for alias records (ignored if alias_target is set).",
          "required": false
        },
        {
          "name": "Values",
          "jsonName": "values",
          "protoField": "values",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "The values for the DNS record.\n This field contains the data associated with the DNS record type.\n Examples:\n   - A record: [\"192.0.2.1\", \"192.0.2.2\"]\n   - AAAA record: [\"2001:0db8::1\"]\n   - CNAME record: [\"target.example.com.\"]\n   - MX record: [\"10 mail1.example.com.\", \"20 mail2.example.com.\"]\n   - TXT record: [\"v=spf1 include:_spf.example.com ~all\"]\n Note: This field is mutually exclusive with alias_target. Use one or the other, not both.",
          "required": false
        },
        {
          "name": "AliasTarget",
          "jsonName": "aliasTarget",
          "protoField": "alias_target",
          "type": {
            "kind": "message",
            "messageType": "Route53AliasTarget"
          },
          "description": "Alias target configuration for Route53 alias records.\n Alias records are Route53's killer feature - they allow you to:\n   1. Point your zone apex (example.com) to AWS resources without CNAME restrictions\n   2. Route traffic to CloudFront, ALB/NLB, S3 website, API Gateway, etc.\n   3. Get free queries (no Route53 charges for alias queries to AWS resources)\n\n Use alias instead of CNAME for:\n   - Zone apex records (DNS spec prohibits CNAME at zone apex)\n   - AWS resource targets (free queries vs paid CNAME queries)\n\n Note: This field is mutually exclusive with values. Use one or the other, not both.\n Note: TTL is not applicable for alias records (Route53 uses the target resource's TTL).",
          "required": false
        },
        {
          "name": "RoutingPolicy",
          "jsonName": "routingPolicy",
          "protoField": "routing_policy",
          "type": {
            "kind": "message",
            "messageType": "Route53RoutingPolicy"
          },
          "description": "Routing policy configuration.\n Route53 supports multiple routing policies for advanced traffic management:\n   - Simple: Default single-value response\n   - Weighted: Split traffic across multiple resources (blue/green, canary deployments)\n   - Latency: Route users to the lowest-latency endpoint (global applications)\n   - Failover: Automatic failover to secondary resource with health checks\n   - Geolocation: Route based on user's geographic location (GDPR compliance, localized content)\n\n If not specified, simple routing is used (standard DNS behavior).",
          "required": false
        },
        {
          "name": "HealthCheckId",
          "jsonName": "healthCheckId",
          "protoField": "health_check_id",
          "type": {
            "kind": "string"
          },
          "description": "Health check ID for failover routing.\n Attach a Route53 health check to monitor endpoint availability.\n When the primary resource fails the health check, Route53 automatically returns the failover record.\n\n Health checks monitor:\n   - HTTP/HTTPS endpoints (status code, response body)\n   - TCP connections\n   - CloudWatch alarms (for application-level health)\n\n Cost: ~$0.50/month per health check for AWS endpoints (first 50 free)\n\n Note: Only used with failover routing policy.",
          "required": false
        },
        {
          "name": "SetIdentifier",
          "jsonName": "setIdentifier",
          "protoField": "set_identifier",
          "type": {
            "kind": "string"
          },
          "description": "Set identifier for routing policies.\n Required for weighted, latency, failover, and geolocation routing.\n Must be unique among records with the same name and type.\n Example: \"primary\", \"secondary\", \"us-east-1\", \"weight-70\"",
          "required": false
        }
      ]
    },
    {
      "name": "Route53FailoverRoutingPolicy",
      "description": "Route53FailoverRoutingPolicy enables active-passive failover.\n Primary resource serves traffic when healthy. If health check fails,\n Route53 automatically routes traffic to the secondary resource.",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53FailoverRoutingPolicy",
      "fields": [
        {
          "name": "Type",
          "jsonName": "type",
          "protoField": "type",
          "type": {
            "kind": "enum",
            "enumType": "org.openmcf.provider.aws.awsroute53zone.v1.FailoverRecordType",
            "enumValues": [
              "PRIMARY",
              "SECONDARY"
            ]
          },
          "description": "Failover record type.\n Must have exactly one PRIMARY and one SECONDARY record with the same name and type.",
          "required": true,
          "validation": {
            "required": true
          }
        }
      ]
    },
    {
      "name": "Route53GeolocationRoutingPolicy",
      "description": "Route53GeolocationRoutingPolicy routes traffic based on user's geographic location.\n You can specify routing at the continent, country, or state level (US states only).\n Route53 selects the most specific match.",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53GeolocationRoutingPolicy",
      "fields": [
        {
          "name": "Continent",
          "jsonName": "continent",
          "protoField": "continent",
          "type": {
            "kind": "string"
          },
          "description": "Continent code (two-letter).\n Examples: \"NA\" (North America), \"EU\" (Europe), \"AS\" (Asia)\n Note: Use continent OR country, not both. Country is more specific.",
          "required": false
        },
        {
          "name": "Country",
          "jsonName": "country",
          "protoField": "country",
          "type": {
            "kind": "string"
          },
          "description": "Country code (two-letter ISO 3166-1 alpha-2).\n Examples: \"US\" (United States), \"GB\" (United Kingdom), \"DE\" (Germany)\n More specific than continent.",
          "required": false
        },
        {
          "name": "Subdivision",
          "jsonName": "subdivision",
          "protoField": "subdivision",
          "type": {
            "kind": "string"
          },
          "description": "Subdivision code (US state).\n Only valid when country is \"US\".\n Examples: \"CA\" (California), \"NY\" (New York), \"TX\" (Texas)\n Most specific geolocation routing option.",
          "required": false
        }
      ]
    },
    {
      "name": "Route53LatencyRoutingPolicy",
      "description": "Route53LatencyRoutingPolicy routes users to the resource with the lowest latency.\n Route53 measures latency from different AWS regions and automatically routes users\n to the endpoint that provides the best performance.",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53LatencyRoutingPolicy",
      "fields": [
        {
          "name": "Region",
          "jsonName": "region",
          "protoField": "region",
          "type": {
            "kind": "string"
          },
          "description": "The AWS region where this resource is located.\n Route53 uses this to measure latency from user locations.\n Example: \"us-east-1\", \"eu-west-1\", \"ap-southeast-1\"",
          "required": true,
          "validation": {
            "required": true
          }
        }
      ]
    },
    {
      "name": "Route53RoutingPolicy",
      "description": "Route53RoutingPolicy defines traffic routing policies for DNS records.\n Route53 supports multiple routing strategies beyond simple DNS resolution,\n enabling advanced traffic management, high availability, and performance optimization.",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53RoutingPolicy",
      "fields": [
        {
          "name": "Weighted",
          "jsonName": "weighted",
          "protoField": "weighted",
          "type": {
            "kind": "message",
            "messageType": "Route53WeightedRoutingPolicy"
          },
          "description": "Weighted routing policy.\n Distributes traffic across multiple resources based on assigned weights.\n Use cases:\n   - Blue/green deployments (90% old, 10% new)\n   - A/B testing\n   - Load distribution across regions",
          "required": false,
          "oneofGroup": "policy"
        },
        {
          "name": "Latency",
          "jsonName": "latency",
          "protoField": "latency",
          "type": {
            "kind": "message",
            "messageType": "Route53LatencyRoutingPolicy"
          },
          "description": "Latency-based routing policy.\n Routes users to the resource with the lowest network latency.\n Use cases:\n   - Global applications serving users from multiple regions\n   - Automatic selection of nearest endpoint",
          "required": false,
          "oneofGroup": "policy"
        },
        {
          "name": "Failover",
          "jsonName": "failover",
          "protoField": "failover",
          "type": {
            "kind": "message",
            "messageType": "Route53FailoverRoutingPolicy"
          },
          "description": "Failover routing policy.\n Routes to primary resource, automatically fails over to secondary when health check fails.\n Use cases:\n   - Active-passive disaster recovery\n   - Automatic failover during incidents",
          "required": false,
          "oneofGroup": "policy"
        },
        {
          "name": "Geolocation",
          "jsonName": "geolocation",
          "protoField": "geolocation",
          "type": {
            "kind": "message",
            "messageType": "Route53GeolocationRoutingPolicy"
          },
          "description": "Geolocation routing policy.\n Routes traffic based on the geographic location of the user.\n Use cases:\n   - GDPR compliance (EU users to EU endpoints)\n   - Localized content\n   - Geographic restrictions",
          "required": false,
          "oneofGroup": "policy"
        }
      ]
    },
    {
      "name": "Route53VpcAssociation",
      "description": "Route53VpcAssociation represents a VPC association for a private hosted zone.\n Private zones can be associated with multiple VPCs, allowing DNS resolution across VPCs.",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53VpcAssociation",
      "fields": [
        {
          "name": "VpcId",
          "jsonName": "vpcId",
          "protoField": "vpc_id",
          "type": {
            "kind": "string"
          },
          "description": "The VPC ID to associate with the private hosted zone.\n Example: \"vpc-12345678\"\n Can reference an AwsVpc resource.",
          "required": true,
          "validation": {
            "required": true
          },
          "referenceKind": "AwsVpc",
          "referenceFieldPath": "status.outputs.vpc_id"
        },
        {
          "name": "VpcRegion",
          "jsonName": "vpcRegion",
          "protoField": "vpc_region",
          "type": {
            "kind": "string"
          },
          "description": "The AWS region where the VPC is located.\n Example: \"us-east-1\"",
          "required": true,
          "validation": {
            "required": true
          }
        }
      ]
    },
    {
      "name": "Route53WeightedRoutingPolicy",
      "description": "Route53WeightedRoutingPolicy enables traffic splitting across multiple resources.\n Weights are relative - Route53 calculates the percentage based on the sum of all weights.\n Example: Records with weights 70 and 30 get 70% and 30% of traffic respectively.",
      "protoType": "org.openmcf.provider.aws.awsroute53zone.v1.Route53WeightedRoutingPolicy",
      "fields": [
        {
          "name": "Weight",
          "jsonName": "weight",
          "protoField": "weight",
          "type": {
            "kind": "int32"
          },
          "description": "Weight value (0-255).\n Higher weight means more traffic.\n Weight of 0 stops traffic to this record (useful for quick traffic draining).",
          "required": false,
          "validation": {
            "max": 255
          }
        }
      ]
    }
  ]
}
