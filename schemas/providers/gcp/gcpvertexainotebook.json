{
  "name": "GcpVertexAiNotebook",
  "kind": "GcpVertexAiNotebook",
  "cloudProvider": "gcp",
  "apiVersion": "gcp.openmcf.org/v1",
  "description": "gcp-vertex-ai-notebook",
  "protoPackage": "org.openmcf.provider.gcp.gcpvertexainotebook.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/gcp/gcpvertexainotebook/v1/api.proto",
    "spec": "org/openmcf/provider/gcp/gcpvertexainotebook/v1/spec.proto"
  },
  "spec": {
    "name": "GcpVertexAiNotebookSpec",
    "fields": [
      {
        "name": "ProjectId",
        "jsonName": "projectId",
        "protoField": "project_id",
        "type": {
          "kind": "string"
        },
        "description": "GCP project where the notebook instance will be created.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "GcpProject",
        "referenceFieldPath": "status.outputs.project_id"
      },
      {
        "name": "Location",
        "jsonName": "location",
        "protoField": "location",
        "type": {
          "kind": "string"
        },
        "description": "GCP zone where the notebook instance will be created (e.g., \"us-central1-a\").\n Immutable after creation.",
        "required": true,
        "validation": {
          "required": true,
          "pattern": "^[a-z]+-[a-z]+[0-9]-[a-z]$"
        }
      },
      {
        "name": "MachineType",
        "jsonName": "machineType",
        "protoField": "machine_type",
        "type": {
          "kind": "string"
        },
        "description": "Compute Engine machine type for the instance.\n Examples: \"e2-standard-4\", \"n1-standard-8\", \"a2-highgpu-1g\".\n Choose based on workload requirements -- CPU-only for data processing,\n N1/A2 for GPU-accelerated ML training.",
        "required": true,
        "validation": {
          "required": true,
          "minLength": 1
        }
      },
      {
        "name": "InstanceName",
        "jsonName": "instanceName",
        "protoField": "instance_name",
        "type": {
          "kind": "string"
        },
        "description": "Name of the Workbench instance in GCP.\n If not specified, defaults to metadata.name.\n Immutable after creation. Must be a valid RFC1035 hostname.",
        "required": false
      },
      {
        "name": "InstanceOwners",
        "jsonName": "instanceOwners",
        "protoField": "instance_owners",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "Email addresses of users who own the instance.\n Format: alias@example.com. Currently GCP supports one owner only.\n If set, access mode is Single User (only this owner can access).\n Immutable after creation.",
        "required": false
      },
      {
        "name": "DesiredState",
        "jsonName": "desiredState",
        "protoField": "desired_state",
        "type": {
          "kind": "string"
        },
        "description": "Desired state of the instance: ACTIVE (running) or STOPPED.\n Use STOPPED to suspend the instance and stop billing for compute\n (storage charges still apply). Defaults to ACTIVE.",
        "required": false
      },
      {
        "name": "DisableProxyAccess",
        "jsonName": "disableProxyAccess",
        "protoField": "disable_proxy_access",
        "type": {
          "kind": "bool"
        },
        "description": "If true, the notebook instance will not register with the proxy\n and no JupyterLab proxy URL will be generated. Use this for\n instances accessed only via SSH or other direct methods.\n Immutable after creation.",
        "required": false
      },
      {
        "name": "Metadata",
        "jsonName": "metadata",
        "protoField": "metadata",
        "type": {
          "kind": "map",
          "keyType": {
            "kind": "string"
          },
          "valueType": {
            "kind": "string"
          }
        },
        "description": "Custom metadata key-value pairs for the instance.\n Some keys trigger special behaviors (e.g., install-monitoring-agent).",
        "required": false
      },
      {
        "name": "BootDisk",
        "jsonName": "bootDisk",
        "protoField": "boot_disk",
        "type": {
          "kind": "message",
          "messageType": "GcpVertexAiNotebookBootDisk"
        },
        "description": "Boot disk configuration for the notebook instance.\n If not specified, GCP provisions a 150 GB PD_SSD boot disk with\n Google-managed encryption.",
        "required": false
      },
      {
        "name": "DataDisk",
        "jsonName": "dataDisk",
        "protoField": "data_disk",
        "type": {
          "kind": "message",
          "messageType": "GcpVertexAiNotebookDataDisk"
        },
        "description": "Data disk configuration for the notebook instance.\n GCP supports exactly one data disk per Workbench instance.\n If not specified, GCP provisions a 100 GB data disk with\n Google-managed encryption.",
        "required": false
      },
      {
        "name": "AcceleratorConfig",
        "jsonName": "acceleratorConfig",
        "protoField": "accelerator_config",
        "type": {
          "kind": "message",
          "messageType": "GcpVertexAiNotebookAcceleratorConfig"
        },
        "description": "GPU accelerator configuration for the notebook instance.\n GCP supports one accelerator configuration per instance.\n Requires compatible machine types (e.g., n1-standard-* for Tesla GPUs).",
        "required": false
      },
      {
        "name": "NetworkInterface",
        "jsonName": "networkInterface",
        "protoField": "network_interface",
        "type": {
          "kind": "message",
          "messageType": "GcpVertexAiNotebookNetworkInterface"
        },
        "description": "Network interface configuration for the notebook instance.\n GCP supports one network interface per instance.\n If not specified, the instance uses the default VPC network.\n Immutable after creation.",
        "required": false
      },
      {
        "name": "DisablePublicIp",
        "jsonName": "disablePublicIp",
        "protoField": "disable_public_ip",
        "type": {
          "kind": "bool"
        },
        "description": "If true, no external IP is assigned to the instance.\n Use this for instances that should only be accessible through\n the Vertex AI proxy or a VPN/Cloud IAP tunnel.\n Immutable after creation.",
        "required": false
      },
      {
        "name": "EnableIpForwarding",
        "jsonName": "enableIpForwarding",
        "protoField": "enable_ip_forwarding",
        "type": {
          "kind": "bool"
        },
        "description": "If true, enable IP forwarding on the instance. Useful for\n instances acting as network gateways. Default false.\n Immutable after creation.",
        "required": false
      },
      {
        "name": "ServiceAccount",
        "jsonName": "serviceAccount",
        "protoField": "service_account",
        "type": {
          "kind": "string"
        },
        "description": "Service account email for the notebook VM identity.\n The VM uses this service account to access GCP resources\n (BigQuery, GCS, Vertex AI, etc.). Scopes are fixed to\n \"https://www.googleapis.com/auth/cloud-platform\".\n Immutable after creation.",
        "required": false,
        "referenceKind": "GcpServiceAccount",
        "referenceFieldPath": "status.outputs.email"
      },
      {
        "name": "Tags",
        "jsonName": "tags",
        "protoField": "tags",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "Compute Engine network tags for firewall rules.\n Immutable after creation.",
        "required": false
      },
      {
        "name": "VmImage",
        "jsonName": "vmImage",
        "protoField": "vm_image",
        "type": {
          "kind": "message",
          "messageType": "GcpVertexAiNotebookVmImage"
        },
        "description": "VM image configuration for the notebook environment.\n Uses pre-built deep learning VM images from GCP with popular\n ML frameworks (TensorFlow, PyTorch, JAX) and JupyterLab.\n Mutually exclusive with container_image.\n Immutable after creation.",
        "required": false
      },
      {
        "name": "ContainerImage",
        "jsonName": "containerImage",
        "protoField": "container_image",
        "type": {
          "kind": "message",
          "messageType": "GcpVertexAiNotebookContainerImage"
        },
        "description": "Container image configuration for a custom notebook environment.\n Use this when pre-built VM images don't meet your needs.\n Mutually exclusive with vm_image.",
        "required": false
      },
      {
        "name": "ShieldedInstanceConfig",
        "jsonName": "shieldedInstanceConfig",
        "protoField": "shielded_instance_config",
        "type": {
          "kind": "message",
          "messageType": "GcpVertexAiNotebookShieldedInstanceConfig"
        },
        "description": "Shielded VM configuration for enhanced security.\n Shielded VMs protect against rootkits and bootkits with\n Secure Boot, vTPM, and integrity monitoring.",
        "required": false
      }
    ]
  },
  "nestedTypes": [
    {
      "name": "GcpVertexAiNotebookAcceleratorConfig",
      "description": "GcpVertexAiNotebookAcceleratorConfig defines a GPU accelerator attached\n to the notebook instance. GCP supports exactly one accelerator\n configuration per Workbench instance.",
      "protoType": "org.openmcf.provider.gcp.gcpvertexainotebook.v1.GcpVertexAiNotebookAcceleratorConfig",
      "fields": [
        {
          "name": "Type",
          "jsonName": "type",
          "protoField": "type",
          "type": {
            "kind": "string"
          },
          "description": "GPU accelerator type.\n See https://cloud.google.com/vertex-ai/docs/workbench/instances/create#accelerator\n for supported types per zone.",
          "required": false
        },
        {
          "name": "CoreCount",
          "jsonName": "coreCount",
          "protoField": "core_count",
          "type": {
            "kind": "int32"
          },
          "description": "Number of accelerator cores.\n Valid values depend on the accelerator type (typically 1, 2, 4, or 8).",
          "required": false
        }
      ]
    },
    {
      "name": "GcpVertexAiNotebookBootDisk",
      "description": "GcpVertexAiNotebookBootDisk defines the boot disk configuration for the\n notebook instance. If not specified, GCP provisions a 150 GB PD_SSD\n boot disk with Google-managed encryption.",
      "protoType": "org.openmcf.provider.gcp.gcpvertexainotebook.v1.GcpVertexAiNotebookBootDisk",
      "fields": [
        {
          "name": "DiskType",
          "jsonName": "diskType",
          "protoField": "disk_type",
          "type": {
            "kind": "string"
          },
          "description": "Disk type for the boot disk.\n Valid values: PD_STANDARD, PD_SSD, PD_BALANCED, PD_EXTREME.\n If not specified, defaults to PD_SSD.",
          "required": false
        },
        {
          "name": "DiskSizeGb",
          "jsonName": "diskSizeGb",
          "protoField": "disk_size_gb",
          "type": {
            "kind": "int32"
          },
          "description": "Size of the boot disk in GB.\n Minimum 10 GB, maximum 64000 GB (64 TB).\n If not specified, defaults to 150 GB.",
          "required": false
        },
        {
          "name": "KmsKey",
          "jsonName": "kmsKey",
          "protoField": "kms_key",
          "type": {
            "kind": "string"
          },
          "description": "KMS key for CMEK encryption of the boot disk.\n Format: projects/{project}/locations/{location}/keyRings/{ring}/cryptoKeys/{key}\n If not specified, Google-managed encryption (GMEK) is used.",
          "required": false,
          "referenceKind": "GcpKmsKey",
          "referenceFieldPath": "status.outputs.key_id"
        }
      ]
    },
    {
      "name": "GcpVertexAiNotebookContainerImage",
      "description": "GcpVertexAiNotebookContainerImage defines a custom container image\n to use as the notebook environment. Use this when you need a custom\n JupyterLab environment with specific libraries, frameworks, or\n configurations not available in the pre-built VM images.\n\n Mutually exclusive with GcpVertexAiNotebookVmImage.",
      "protoType": "org.openmcf.provider.gcp.gcpvertexainotebook.v1.GcpVertexAiNotebookContainerImage",
      "fields": [
        {
          "name": "Repository",
          "jsonName": "repository",
          "protoField": "repository",
          "type": {
            "kind": "string"
          },
          "description": "Container image repository path.\n Example: \"gcr.io/deeplearning-platform-release/base-cu113.py310\"",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "Tag",
          "jsonName": "tag",
          "protoField": "tag",
          "type": {
            "kind": "string"
          },
          "description": "Container image tag. If not specified, the latest tag is used.",
          "required": false
        }
      ]
    },
    {
      "name": "GcpVertexAiNotebookDataDisk",
      "description": "GcpVertexAiNotebookDataDisk defines a data disk attached to the notebook\n instance. GCP supports exactly one data disk per Workbench instance.\n If not specified, GCP provisions a 100 GB data disk with Google-managed\n encryption.",
      "protoType": "org.openmcf.provider.gcp.gcpvertexainotebook.v1.GcpVertexAiNotebookDataDisk",
      "fields": [
        {
          "name": "DiskType",
          "jsonName": "diskType",
          "protoField": "disk_type",
          "type": {
            "kind": "string"
          },
          "description": "Disk type for the data disk.\n Valid values: PD_STANDARD, PD_SSD, PD_BALANCED, PD_EXTREME.\n If not specified, defaults to PD_STANDARD.",
          "required": false
        },
        {
          "name": "DiskSizeGb",
          "jsonName": "diskSizeGb",
          "protoField": "disk_size_gb",
          "type": {
            "kind": "int32"
          },
          "description": "Size of the data disk in GB.\n Minimum 10 GB, maximum 64000 GB (64 TB).\n If not specified, defaults to 100 GB.",
          "required": false
        },
        {
          "name": "KmsKey",
          "jsonName": "kmsKey",
          "protoField": "kms_key",
          "type": {
            "kind": "string"
          },
          "description": "KMS key for CMEK encryption of the data disk.\n Format: projects/{project}/locations/{location}/keyRings/{ring}/cryptoKeys/{key}\n If not specified, Google-managed encryption (GMEK) is used.",
          "required": false,
          "referenceKind": "GcpKmsKey",
          "referenceFieldPath": "status.outputs.key_id"
        }
      ]
    },
    {
      "name": "GcpVertexAiNotebookNetworkInterface",
      "description": "GcpVertexAiNotebookNetworkInterface defines the network configuration\n for the notebook instance. GCP supports exactly one network interface\n per Workbench instance.",
      "protoType": "org.openmcf.provider.gcp.gcpvertexainotebook.v1.GcpVertexAiNotebookNetworkInterface",
      "fields": [
        {
          "name": "Network",
          "jsonName": "network",
          "protoField": "network",
          "type": {
            "kind": "string"
          },
          "description": "VPC network for the instance.\n Can be a literal value (VPC name or self_link) or a reference to\n a GcpVpc resource.",
          "required": false,
          "referenceKind": "GcpVpc",
          "referenceFieldPath": "status.outputs.network_self_link"
        },
        {
          "name": "Subnet",
          "jsonName": "subnet",
          "protoField": "subnet",
          "type": {
            "kind": "string"
          },
          "description": "Subnetwork for the instance.\n Can be a literal value (subnet name or self_link) or a reference to\n a GcpSubnetwork resource.",
          "required": false,
          "referenceKind": "GcpSubnetwork",
          "referenceFieldPath": "status.outputs.subnetwork_self_link"
        },
        {
          "name": "NicType",
          "jsonName": "nicType",
          "protoField": "nic_type",
          "type": {
            "kind": "string"
          },
          "description": "NIC type for the network interface.\n Valid values: VIRTIO_NET, GVNIC.\n GVNIC provides higher bandwidth and lower latency.\n If not specified, defaults to VIRTIO_NET.",
          "required": false
        }
      ]
    },
    {
      "name": "GcpVertexAiNotebookShieldedInstanceConfig",
      "description": "GcpVertexAiNotebookShieldedInstanceConfig defines Shielded VM settings\n for the notebook instance. Shielded VMs provide verifiable integrity\n to protect against rootkits and bootkits.",
      "protoType": "org.openmcf.provider.gcp.gcpvertexainotebook.v1.GcpVertexAiNotebookShieldedInstanceConfig",
      "fields": [
        {
          "name": "EnableSecureBoot",
          "jsonName": "enableSecureBoot",
          "protoField": "enable_secure_boot",
          "type": {
            "kind": "bool"
          },
          "description": "Enable Secure Boot. Ensures only verified boot software runs.\n Disabled by default because some ML libraries may not have signed\n boot loaders.",
          "required": false
        },
        {
          "name": "EnableVtpm",
          "jsonName": "enableVtpm",
          "protoField": "enable_vtpm",
          "type": {
            "kind": "bool"
          },
          "description": "Enable vTPM (Virtual Trusted Platform Module).\n Provides measured boot integrity and key generation.\n Enabled by default.",
          "required": false
        },
        {
          "name": "EnableIntegrityMonitoring",
          "jsonName": "enableIntegrityMonitoring",
          "protoField": "enable_integrity_monitoring",
          "type": {
            "kind": "bool"
          },
          "description": "Enable integrity monitoring. Compares boot measurements against\n a trusted baseline.\n Enabled by default.",
          "required": false
        }
      ]
    },
    {
      "name": "GcpVertexAiNotebookVmImage",
      "description": "GcpVertexAiNotebookVmImage defines a Compute Engine VM image to use\n as the notebook environment. This is the most common configuration --\n GCP provides pre-built deep learning VM images with popular ML frameworks\n (TensorFlow, PyTorch, JAX) and JupyterLab pre-installed.\n\n Mutually exclusive with GcpVertexAiNotebookContainerImage.",
      "protoType": "org.openmcf.provider.gcp.gcpvertexainotebook.v1.GcpVertexAiNotebookVmImage",
      "fields": [
        {
          "name": "Project",
          "jsonName": "project",
          "protoField": "project",
          "type": {
            "kind": "string"
          },
          "description": "Google Cloud project that the VM image belongs to.\n Defaults to \"deeplearning-platform-release\" for GCP's pre-built\n deep learning images.",
          "required": false
        },
        {
          "name": "Family",
          "jsonName": "family",
          "protoField": "family",
          "type": {
            "kind": "string"
          },
          "description": "VM image family. The newest image in this family will be used.\n Example families: \"common-cpu-notebooks\", \"tf-latest-gpu\",\n \"pytorch-latest-gpu\", \"r-latest-cpu-experimental\".\n Mutually exclusive with name (within this message).",
          "required": false
        },
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Specific VM image name. Use this instead of family when you need\n to pin to an exact image version.\n Mutually exclusive with family (within this message).",
          "required": false
        }
      ]
    }
  ]
}
