{
  "name": "OciIdentityPolicy",
  "kind": "OciIdentityPolicy",
  "cloudProvider": "oci",
  "apiVersion": "oci.openmcf.org/v1",
  "description": "OciIdentityPolicy is the top-level resource representing an Oracle Cloud\n Infrastructure IAM policy for granting access to compartment resources.",
  "protoPackage": "org.openmcf.provider.oci.ociidentitypolicy.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/oci/ociidentitypolicy/v1/api.proto",
    "spec": "org/openmcf/provider/oci/ociidentitypolicy/v1/spec.proto"
  },
  "spec": {
    "name": "OciIdentityPolicySpec",
    "fields": [
      {
        "name": "CompartmentId",
        "jsonName": "compartmentId",
        "protoField": "compartment_id",
        "type": {
          "kind": "string"
        },
        "description": "OCID of the compartment where this policy will be created.\n For tenancy-level policies, use the tenancy OCID.\n For compartment-scoped policies, use the target compartment's OCID.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "OciCompartment",
        "referenceFieldPath": "status.outputs.compartmentId"
      },
      {
        "name": "Name",
        "jsonName": "name",
        "protoField": "name",
        "type": {
          "kind": "string"
        },
        "description": "Name assigned to the policy. Must be unique across all policies in the\n tenancy and cannot be changed after creation.\n Falls back to metadata.name if not provided.",
        "required": false
      },
      {
        "name": "Description",
        "jsonName": "description",
        "protoField": "description",
        "type": {
          "kind": "string"
        },
        "description": "Description of the policy's purpose.\n Required by the OCI API. Updatable after creation.",
        "required": false,
        "validation": {
          "minLength": 1
        }
      },
      {
        "name": "Statements",
        "jsonName": "statements",
        "protoField": "statements",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "Policy statements written in OCI's policy language.\n At least one statement is required. Each statement follows the syntax:\n   \"Allow \u003csubject\u003e to \u003cverb\u003e \u003cresource-type\u003e in \u003clocation\u003e [where \u003cconditions\u003e]\"\n See https://docs.oracle.com/iaas/Content/Identity/Concepts/policies.htm",
        "required": false,
        "validation": {
          "minItems": 1
        }
      },
      {
        "name": "VersionDate",
        "jsonName": "versionDate",
        "protoField": "version_date",
        "type": {
          "kind": "string"
        },
        "description": "Version date for policy evaluation (YYYY-MM-DD format).\n When set, the policy is evaluated according to the behavior of OCI\n services on that date, providing a stable policy interpretation.\n When empty, the policy uses the current service behavior at evaluation time.",
        "required": false
      }
    ]
  }
}
