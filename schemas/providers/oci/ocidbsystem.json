{
  "name": "OciDbSystem",
  "kind": "OciDbSystem",
  "cloudProvider": "oci",
  "apiVersion": "oci.openmcf.org/v1",
  "description": "OciDbSystem is the top-level resource representing an Oracle Cloud\n Infrastructure Database System -- a managed Oracle Database running on\n Virtual Machine or Bare Metal infrastructure with full control over\n compute shape, storage layout, patching, and Oracle Database edition.",
  "protoPackage": "org.openmcf.provider.oci.ocidbsystem.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/oci/ocidbsystem/v1/api.proto",
    "spec": "org/openmcf/provider/oci/ocidbsystem/v1/spec.proto"
  },
  "spec": {
    "name": "OciDbSystemSpec",
    "fields": [
      {
        "name": "CompartmentId",
        "jsonName": "compartmentId",
        "protoField": "compartment_id",
        "type": {
          "kind": "string"
        },
        "description": "OCID of the compartment where the DB System will be created.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "OciCompartment",
        "referenceFieldPath": "status.outputs.compartmentId"
      },
      {
        "name": "DisplayName",
        "jsonName": "displayName",
        "protoField": "display_name",
        "type": {
          "kind": "string"
        },
        "description": "Human-readable name for the DB System shown in the OCI Console.\n Falls back to metadata.name if not provided.",
        "required": false
      },
      {
        "name": "AvailabilityDomain",
        "jsonName": "availabilityDomain",
        "protoField": "availability_domain",
        "type": {
          "kind": "string"
        },
        "description": "Availability domain where the DB System will be placed.\n Example: \"Uocm:PHX-AD-1\". Changing this forces recreation.",
        "required": false,
        "validation": {
          "minLength": 1
        }
      },
      {
        "name": "Shape",
        "jsonName": "shape",
        "protoField": "shape",
        "type": {
          "kind": "string"
        },
        "description": "Compute shape for the DB System nodes. Determines CPU architecture,\n core count range, and memory. Examples: \"VM.Standard2.4\",\n \"VM.Standard.E4.Flex\", \"BM.DenseIO2.52\".",
        "required": false,
        "validation": {
          "minLength": 1
        }
      },
      {
        "name": "SubnetId",
        "jsonName": "subnetId",
        "protoField": "subnet_id",
        "type": {
          "kind": "string"
        },
        "description": "OCID of the subnet where the DB System will be placed.\n Changing this forces recreation.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "OciSubnet",
        "referenceFieldPath": "status.outputs.subnetId"
      },
      {
        "name": "SshPublicKeys",
        "jsonName": "sshPublicKeys",
        "protoField": "ssh_public_keys",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "SSH public keys for administrative access to the DB System nodes.\n At least one key is required. Keys must be in OpenSSH format.",
        "required": false,
        "validation": {
          "minItems": 1
        }
      },
      {
        "name": "Hostname",
        "jsonName": "hostname",
        "protoField": "hostname",
        "type": {
          "kind": "string"
        },
        "description": "Hostname for the DB System. Must be unique within the subnet.\n Combined with the domain to form the FQDN. Changing this forces recreation.",
        "required": false,
        "validation": {
          "minLength": 1
        }
      },
      {
        "name": "CpuCoreCount",
        "jsonName": "cpuCoreCount",
        "protoField": "cpu_core_count",
        "type": {
          "kind": "int32"
        },
        "description": "Number of CPU cores to enable. For VM shapes, this is the number\n of OCPUs. For BM shapes, this is the total core count. When omitted,\n the shape's default is used.",
        "required": false
      },
      {
        "name": "DatabaseEdition",
        "jsonName": "databaseEdition",
        "protoField": "database_edition",
        "type": {
          "kind": "enum",
          "enumType": "org.openmcf.provider.oci.ocidbsystem.v1.DatabaseEdition",
          "enumValues": [
            "standard_edition",
            "enterprise_edition",
            "enterprise_edition_high_performance",
            "enterprise_edition_extreme_performance"
          ]
        },
        "description": "Oracle Database edition. Determines available features and licensing\n tiers. Exadata and 2-node RAC require enterprise_edition_extreme_performance.\n Changing this forces recreation.",
        "required": false
      },
      {
        "name": "LicenseModel",
        "jsonName": "licenseModel",
        "protoField": "license_model",
        "type": {
          "kind": "enum",
          "enumType": "org.openmcf.provider.oci.ocidbsystem.v1.LicenseModel",
          "enumValues": [
            "bring_your_own_license",
            "license_included"
          ]
        },
        "description": "License model for the DB System. Determines whether existing Oracle\n licenses are applied (BYOL) or new licenses are included in the price.",
        "required": false
      },
      {
        "name": "DataStorageSizeInGb",
        "jsonName": "dataStorageSizeInGb",
        "protoField": "data_storage_size_in_gb",
        "type": {
          "kind": "int32"
        },
        "description": "Initial data storage size in gigabytes. Required for VM DB Systems.\n Supported values depend on the shape (typically 256, 512, 1024, 2048,\n 4096, 6144, 8192, 10240, 12288, 14336, 16384, 20480, 24576, 28672,\n 32768, 36864, 40960).",
        "required": false
      },
      {
        "name": "DataStoragePercentage",
        "jsonName": "dataStoragePercentage",
        "protoField": "data_storage_percentage",
        "type": {
          "kind": "int32"
        },
        "description": "Percentage of total storage allocated to data (as opposed to recovery).\n Valid values: 40 or 80. Only applicable for BM DB Systems.\n Changing this forces recreation.",
        "required": false
      },
      {
        "name": "DiskRedundancy",
        "jsonName": "diskRedundancy",
        "protoField": "disk_redundancy",
        "type": {
          "kind": "enum",
          "enumType": "org.openmcf.provider.oci.ocidbsystem.v1.DiskRedundancy",
          "enumValues": [
            "normal",
            "high"
          ]
        },
        "description": "Disk redundancy level. \"normal\" provides 2-way mirroring; \"high\"\n provides 3-way mirroring. Only applicable for BM DB Systems.\n Changing this forces recreation.",
        "required": false
      },
      {
        "name": "NodeCount",
        "jsonName": "nodeCount",
        "protoField": "node_count",
        "type": {
          "kind": "int32"
        },
        "description": "Number of DB System nodes. Use 1 for a single-node system or 2 for\n a 2-node RAC cluster. Changing this forces recreation.",
        "required": false
      },
      {
        "name": "Domain",
        "jsonName": "domain",
        "protoField": "domain",
        "type": {
          "kind": "string"
        },
        "description": "Network domain name for the DB System. Defaults to the subnet's\n domain if not specified. Changing this forces recreation.",
        "required": false
      },
      {
        "name": "ClusterName",
        "jsonName": "clusterName",
        "protoField": "cluster_name",
        "type": {
          "kind": "string"
        },
        "description": "Cluster name for the DB System. Used for RAC clusters.\n Maximum 11 characters. Changing this forces recreation.",
        "required": false
      },
      {
        "name": "FaultDomains",
        "jsonName": "faultDomains",
        "protoField": "fault_domains",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "Fault domains for distributing DB System nodes. Use for RAC to\n place nodes in different fault domains for high availability.\n Changing this forces recreation.",
        "required": false
      },
      {
        "name": "NsgIds",
        "jsonName": "nsgIds",
        "protoField": "nsg_ids",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "OCIDs of network security groups to apply to the DB System VNIC.",
        "required": false,
        "referenceKind": "OciSecurityGroup",
        "referenceFieldPath": "status.outputs.networkSecurityGroupId"
      },
      {
        "name": "BackupSubnetId",
        "jsonName": "backupSubnetId",
        "protoField": "backup_subnet_id",
        "type": {
          "kind": "string"
        },
        "description": "OCID of the backup subnet for the DB System. Required for RAC\n configurations. Changing this forces recreation.",
        "required": false,
        "referenceKind": "OciSubnet",
        "referenceFieldPath": "status.outputs.subnetId"
      },
      {
        "name": "BackupNetworkNsgIds",
        "jsonName": "backupNetworkNsgIds",
        "protoField": "backup_network_nsg_ids",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "OCIDs of network security groups for the backup VNIC.",
        "required": false,
        "referenceKind": "OciSecurityGroup",
        "referenceFieldPath": "status.outputs.networkSecurityGroupId"
      },
      {
        "name": "KmsKeyId",
        "jsonName": "kmsKeyId",
        "protoField": "kms_key_id",
        "type": {
          "kind": "string"
        },
        "description": "OCID of the KMS key for encrypting the DB System's data at rest.",
        "required": false
      },
      {
        "name": "KmsKeyVersionId",
        "jsonName": "kmsKeyVersionId",
        "protoField": "kms_key_version_id",
        "type": {
          "kind": "string"
        },
        "description": "OCID of the specific KMS key version. When omitted, the current\n key version is used.",
        "required": false
      },
      {
        "name": "TimeZone",
        "jsonName": "timeZone",
        "protoField": "time_zone",
        "type": {
          "kind": "string"
        },
        "description": "Time zone for the DB System. Example: \"UTC\", \"US/Pacific\".\n Changing this forces recreation.",
        "required": false
      },
      {
        "name": "SparseDiskgroup",
        "jsonName": "sparseDiskgroup",
        "protoField": "sparse_diskgroup",
        "type": {
          "kind": "bool"
        },
        "description": "When true, configures a sparse disk group on the BM DB System.\n Only applicable for BM shapes. Changing this forces recreation.",
        "required": false,
        "oneofGroup": "_sparse_diskgroup"
      },
      {
        "name": "StorageVolumePerformanceMode",
        "jsonName": "storageVolumePerformanceMode",
        "protoField": "storage_volume_performance_mode",
        "type": {
          "kind": "enum",
          "enumType": "org.openmcf.provider.oci.ocidbsystem.v1.StorageVolumePerformanceMode",
          "enumValues": [
            "balanced",
            "high_performance"
          ]
        },
        "description": "Storage volume performance mode. \"balanced\" is suitable for most\n workloads; \"high_performance\" provides lower latency at higher cost.\n Changing this forces recreation.",
        "required": false
      },
      {
        "name": "PrivateIp",
        "jsonName": "privateIp",
        "protoField": "private_ip",
        "type": {
          "kind": "string"
        },
        "description": "Specific private IP address for the DB System. When omitted,\n OCI auto-assigns an available IP from the subnet.\n Changing this forces recreation.",
        "required": false
      },
      {
        "name": "DataCollectionOptions",
        "jsonName": "dataCollectionOptions",
        "protoField": "data_collection_options",
        "type": {
          "kind": "message",
          "messageType": "DataCollectionOptions"
        },
        "description": "Data collection options controlling OCI diagnostic telemetry.",
        "required": false
      },
      {
        "name": "DbSystemOptions",
        "jsonName": "dbSystemOptions",
        "protoField": "db_system_options",
        "type": {
          "kind": "message",
          "messageType": "DbSystemOptions"
        },
        "description": "DB System options controlling storage management strategy.",
        "required": false
      },
      {
        "name": "MaintenanceWindowDetails",
        "jsonName": "maintenanceWindowDetails",
        "protoField": "maintenance_window_details",
        "type": {
          "kind": "message",
          "messageType": "MaintenanceWindowDetails"
        },
        "description": "Maintenance window scheduling. When omitted or preference is\n no_preference, OCI selects the maintenance window automatically.",
        "required": false
      },
      {
        "name": "DbHome",
        "jsonName": "dbHome",
        "protoField": "db_home",
        "type": {
          "kind": "message",
          "messageType": "DbHome"
        },
        "description": "DB Home configuration. Contains the Oracle Database software version\n and the initial database to create. Exactly one DB Home is required\n at DB System creation time.",
        "required": true,
        "validation": {
          "required": true
        }
      }
    ]
  },
  "nestedTypes": [
    {
      "name": "DataCollectionOptions",
      "description": "DataCollectionOptions controls diagnostic data collection for the\n DB System. All fields default to provider behavior when omitted.",
      "protoType": "org.openmcf.provider.oci.ocidbsystem.v1.OciDbSystemSpec.DataCollectionOptions",
      "fields": [
        {
          "name": "IsDiagnosticsEventsEnabled",
          "jsonName": "isDiagnosticsEventsEnabled",
          "protoField": "is_diagnostics_events_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether to enable diagnostic event collection.",
          "required": false,
          "oneofGroup": "_is_diagnostics_events_enabled"
        },
        {
          "name": "IsHealthMonitoringEnabled",
          "jsonName": "isHealthMonitoringEnabled",
          "protoField": "is_health_monitoring_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether to enable health monitoring.",
          "required": false,
          "oneofGroup": "_is_health_monitoring_enabled"
        },
        {
          "name": "IsIncidentLogsEnabled",
          "jsonName": "isIncidentLogsEnabled",
          "protoField": "is_incident_logs_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether to enable incident log collection.",
          "required": false,
          "oneofGroup": "_is_incident_logs_enabled"
        }
      ]
    },
    {
      "name": "Database",
      "description": "Database represents the Oracle Database instance created within a DB Home.",
      "protoType": "org.openmcf.provider.oci.ocidbsystem.v1.OciDbSystemSpec.Database",
      "fields": [
        {
          "name": "AdminPassword",
          "jsonName": "adminPassword",
          "protoField": "admin_password",
          "type": {
            "kind": "string"
          },
          "description": "Administrator password for the SYS and SYSTEM users. Must be 2 to 30\n characters, contain at least one uppercase, one lowercase, and one\n numeric character. Cannot contain the double-quote character.\n This value is not returned by the API after creation.",
          "required": false,
          "validation": {
            "minLength": 2
          }
        },
        {
          "name": "DbName",
          "jsonName": "dbName",
          "protoField": "db_name",
          "type": {
            "kind": "string"
          },
          "description": "Database name. Must be alphanumeric, begin with a letter, and be\n at most 8 characters for single-node or 30 characters otherwise.\n Changing this forces recreation.",
          "required": false,
          "validation": {
            "minLength": 1,
            "maxLength": 30,
            "pattern": "^[a-zA-Z][a-zA-Z0-9]*$"
          }
        },
        {
          "name": "CharacterSet",
          "jsonName": "characterSet",
          "protoField": "character_set",
          "type": {
            "kind": "string"
          },
          "description": "Character set for the database. Defaults to AL32UTF8 when omitted.\n Changing this forces recreation.",
          "required": false
        },
        {
          "name": "NcharacterSet",
          "jsonName": "ncharacterSet",
          "protoField": "ncharacter_set",
          "type": {
            "kind": "string"
          },
          "description": "National character set. Defaults to AL16UTF16 when omitted.\n Valid values: AL16UTF16, UTF8. Changing this forces recreation.",
          "required": false
        },
        {
          "name": "PdbName",
          "jsonName": "pdbName",
          "protoField": "pdb_name",
          "type": {
            "kind": "string"
          },
          "description": "Pluggable database name. Must begin with a letter and contain only\n alphanumeric characters. Changing this forces recreation.",
          "required": false
        },
        {
          "name": "DbDomain",
          "jsonName": "dbDomain",
          "protoField": "db_domain",
          "type": {
            "kind": "string"
          },
          "description": "Database domain. Defaults to the DB System's domain when omitted.\n Changing this forces recreation.",
          "required": false
        },
        {
          "name": "KmsKeyId",
          "jsonName": "kmsKeyId",
          "protoField": "kms_key_id",
          "type": {
            "kind": "string"
          },
          "description": "OCID of the KMS key for Transparent Data Encryption (TDE).\n When omitted, Oracle-managed encryption is used.\n Changing this forces recreation.",
          "required": false
        },
        {
          "name": "KmsKeyVersionId",
          "jsonName": "kmsKeyVersionId",
          "protoField": "kms_key_version_id",
          "type": {
            "kind": "string"
          },
          "description": "OCID of the specific KMS key version for TDE.\n Changing this forces recreation.",
          "required": false
        },
        {
          "name": "VaultId",
          "jsonName": "vaultId",
          "protoField": "vault_id",
          "type": {
            "kind": "string"
          },
          "description": "OCID of the OCI Vault containing the TDE encryption key.\n Required when kms_key_id is set. Changing this forces recreation.",
          "required": false
        },
        {
          "name": "DbBackupConfig",
          "jsonName": "dbBackupConfig",
          "protoField": "db_backup_config",
          "type": {
            "kind": "message",
            "messageType": "DbBackupConfig"
          },
          "description": "Automatic backup configuration for the database.",
          "required": false
        }
      ]
    },
    {
      "name": "DbBackupConfig",
      "description": "DbBackupConfig configures automatic backups for the database.",
      "protoType": "org.openmcf.provider.oci.ocidbsystem.v1.OciDbSystemSpec.DbBackupConfig",
      "fields": [
        {
          "name": "AutoBackupEnabled",
          "jsonName": "autoBackupEnabled",
          "protoField": "auto_backup_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether automatic backups are enabled.",
          "required": false,
          "oneofGroup": "_auto_backup_enabled"
        },
        {
          "name": "AutoBackupWindow",
          "jsonName": "autoBackupWindow",
          "protoField": "auto_backup_window",
          "type": {
            "kind": "string"
          },
          "description": "Preferred backup window. Values: SLOT_ONE through SLOT_TWELVE\n representing 2-hour windows starting from 00:00-02:00 UTC.\n Only applied when auto_backup_enabled is true.",
          "required": false
        },
        {
          "name": "RecoveryWindowInDays",
          "jsonName": "recoveryWindowInDays",
          "protoField": "recovery_window_in_days",
          "type": {
            "kind": "int32"
          },
          "description": "Number of days to retain automatic backups (1-60).\n Only applied when auto_backup_enabled is true.",
          "required": false
        }
      ]
    },
    {
      "name": "DbHome",
      "description": "DbHome represents the Oracle Database Home -- a directory containing\n Oracle Database software of a specific version.",
      "protoType": "org.openmcf.provider.oci.ocidbsystem.v1.OciDbSystemSpec.DbHome",
      "fields": [
        {
          "name": "DbVersion",
          "jsonName": "dbVersion",
          "protoField": "db_version",
          "type": {
            "kind": "string"
          },
          "description": "Oracle Database version. Example: \"19.0.0.0\", \"21.0.0.0\".\n Mutually exclusive with database_software_image_id.\n Changing this forces recreation.",
          "required": false
        },
        {
          "name": "DisplayName",
          "jsonName": "displayName",
          "protoField": "display_name",
          "type": {
            "kind": "string"
          },
          "description": "Human-readable name for the DB Home.",
          "required": false
        },
        {
          "name": "DatabaseSoftwareImageId",
          "jsonName": "databaseSoftwareImageId",
          "protoField": "database_software_image_id",
          "type": {
            "kind": "string"
          },
          "description": "OCID of a custom database software image to use instead of a\n standard db_version. Mutually exclusive with db_version.\n Changing this forces recreation.",
          "required": false
        },
        {
          "name": "Database",
          "jsonName": "database",
          "protoField": "database",
          "type": {
            "kind": "message",
            "messageType": "Database"
          },
          "description": "The initial database to create within this DB Home.",
          "required": true,
          "validation": {
            "required": true
          }
        }
      ]
    },
    {
      "name": "DbSystemOptions",
      "description": "DbSystemOptions controls storage management for the DB System.",
      "protoType": "org.openmcf.provider.oci.ocidbsystem.v1.OciDbSystemSpec.DbSystemOptions",
      "fields": [
        {
          "name": "StorageManagement",
          "jsonName": "storageManagement",
          "protoField": "storage_management",
          "type": {
            "kind": "enum",
            "enumType": "org.openmcf.provider.oci.ocidbsystem.v1.StorageManagement",
            "enumValues": [
              "asm",
              "lvm"
            ]
          },
          "description": "Storage management strategy. ASM (Automatic Storage Management) is\n the default for most shapes. LVM (Logical Volume Management) is\n available for single-node VM systems only.\n Changing this forces recreation.",
          "required": false
        }
      ]
    },
    {
      "name": "MaintenanceWindowDetails",
      "description": "MaintenanceWindowDetails configures the patching schedule for the\n DB System. When preference is no_preference, all other fields are\n ignored and OCI selects the window automatically.",
      "protoType": "org.openmcf.provider.oci.ocidbsystem.v1.OciDbSystemSpec.MaintenanceWindowDetails",
      "fields": [
        {
          "name": "Preference",
          "jsonName": "preference",
          "protoField": "preference",
          "type": {
            "kind": "enum",
            "enumType": "org.openmcf.provider.oci.ocidbsystem.v1.Preference",
            "enumValues": [
              "no_preference",
              "custom_preference"
            ]
          },
          "description": "Maintenance scheduling preference.",
          "required": false
        },
        {
          "name": "PatchingMode",
          "jsonName": "patchingMode",
          "protoField": "patching_mode",
          "type": {
            "kind": "enum",
            "enumType": "org.openmcf.provider.oci.ocidbsystem.v1.PatchingMode",
            "enumValues": [
              "rolling",
              "nonrolling"
            ]
          },
          "description": "Patching strategy. Rolling applies patches one node at a time\n (zero downtime for RAC). Nonrolling patches all nodes simultaneously.",
          "required": false
        },
        {
          "name": "LeadTimeInWeeks",
          "jsonName": "leadTimeInWeeks",
          "protoField": "lead_time_in_weeks",
          "type": {
            "kind": "int32"
          },
          "description": "Weeks of advance notice before the maintenance window opens.",
          "required": false
        },
        {
          "name": "Months",
          "jsonName": "months",
          "protoField": "months",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Months when maintenance is allowed. Example: [\"JANUARY\", \"APRIL\",\n \"JULY\", \"OCTOBER\"] for quarterly patching.",
          "required": false
        },
        {
          "name": "WeeksOfMonth",
          "jsonName": "weeksOfMonth",
          "protoField": "weeks_of_month",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "int32"
            }
          },
          "description": "Weeks of the month (1-4) when maintenance is allowed.",
          "required": false
        },
        {
          "name": "DaysOfWeek",
          "jsonName": "daysOfWeek",
          "protoField": "days_of_week",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Days of the week when maintenance is allowed. Example: [\"MONDAY\"].",
          "required": false
        },
        {
          "name": "HoursOfDay",
          "jsonName": "hoursOfDay",
          "protoField": "hours_of_day",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "int32"
            }
          },
          "description": "Hours of the day (0-23) when maintenance may start.",
          "required": false
        },
        {
          "name": "CustomActionTimeoutInMins",
          "jsonName": "customActionTimeoutInMins",
          "protoField": "custom_action_timeout_in_mins",
          "type": {
            "kind": "int32"
          },
          "description": "Custom timeout for patching actions in minutes (0-120).",
          "required": false
        },
        {
          "name": "IsCustomActionTimeoutEnabled",
          "jsonName": "isCustomActionTimeoutEnabled",
          "protoField": "is_custom_action_timeout_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether the custom action timeout is enabled.",
          "required": false,
          "oneofGroup": "_is_custom_action_timeout_enabled"
        },
        {
          "name": "IsMonthlyPatchingEnabled",
          "jsonName": "isMonthlyPatchingEnabled",
          "protoField": "is_monthly_patching_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether monthly patching is enabled.",
          "required": false,
          "oneofGroup": "_is_monthly_patching_enabled"
        }
      ]
    }
  ]
}
