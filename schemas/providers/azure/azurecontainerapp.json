{
  "name": "AzureContainerApp",
  "kind": "AzureContainerApp",
  "cloudProvider": "azure",
  "apiVersion": "azure.openmcf.org/v1",
  "description": "AzureContainerApp is the top-level API resource for an Azure Container App.\n It defines a serverless container workload running inside an Azure Container\n Apps Managed Environment, with containers, scaling rules, ingress, secrets,\n and optional Dapr sidecar.",
  "protoPackage": "org.openmcf.provider.azure.azurecontainerapp.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/azure/azurecontainerapp/v1/api.proto",
    "spec": "org/openmcf/provider/azure/azurecontainerapp/v1/spec.proto"
  },
  "spec": {
    "name": "AzureContainerAppSpec",
    "fields": [
      {
        "name": "ResourceGroup",
        "jsonName": "resourceGroup",
        "protoField": "resource_group",
        "type": {
          "kind": "string"
        },
        "description": "The Azure Resource Group where the Container App will be created.\n Can be a literal string or a reference to an AzureResourceGroup output.\n\n **ForceNew**: Changing this destroys and recreates the app.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "AzureResourceGroup",
        "referenceFieldPath": "status.outputs.resource_group_name"
      },
      {
        "name": "Name",
        "jsonName": "name",
        "protoField": "name",
        "type": {
          "kind": "string"
        },
        "description": "The name of the Container App.\n Must be lowercase alphanumeric or hyphens, start with a letter, end with\n an alphanumeric character, no consecutive hyphens, max 32 characters.\n\n This name is used in the app's FQDN: {name}.{environment-default-domain}\n\n **ForceNew**: Changing this destroys and recreates the app.",
        "required": true,
        "validation": {
          "required": true,
          "minLength": 2,
          "maxLength": 32
        }
      },
      {
        "name": "ContainerAppEnvironmentId",
        "jsonName": "containerAppEnvironmentId",
        "protoField": "container_app_environment_id",
        "type": {
          "kind": "string"
        },
        "description": "The Container App Environment where this app will run.\n The environment provides networking, logging, and compute capacity.\n\n **ForceNew**: Changing this destroys and recreates the app.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "AzureContainerAppEnvironment",
        "referenceFieldPath": "status.outputs.environment_id"
      },
      {
        "name": "RevisionMode",
        "jsonName": "revisionMode",
        "protoField": "revision_mode",
        "type": {
          "kind": "string"
        },
        "description": "The revision operating mode. Controls how many revisions can be active.\n\n \"Single\": Only one revision active at a time (default, simplest).\n \"Multiple\": Multiple revisions active simultaneously with traffic splitting.\n\n Default: \"Single\"",
        "required": false,
        "default": "Single",
        "oneofGroup": "_revision_mode"
      },
      {
        "name": "WorkloadProfileName",
        "jsonName": "workloadProfileName",
        "protoField": "workload_profile_name",
        "type": {
          "kind": "string"
        },
        "description": "The workload profile name to run this app on.\n References a profile defined in the Container App Environment.\n\n Omit to use the default Consumption (serverless) profile.\n Set to a named profile (e.g., \"gpu-pool\", \"high-memory\") for dedicated compute.",
        "required": false
      },
      {
        "name": "MaxInactiveRevisions",
        "jsonName": "maxInactiveRevisions",
        "protoField": "max_inactive_revisions",
        "type": {
          "kind": "int32"
        },
        "description": "Maximum number of inactive revisions to retain.\n Older inactive revisions beyond this limit are automatically purged.\n\n Range: 0-100. Omit to use Azure's default (typically 100).",
        "required": false,
        "validation": {
          "max": 100
        },
        "oneofGroup": "_max_inactive_revisions"
      },
      {
        "name": "Containers",
        "jsonName": "containers",
        "protoField": "containers",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppContainer"
          }
        },
        "description": "Main containers for the app. At least one container is required.\n Each container runs continuously and can have health probes.",
        "required": false,
        "validation": {
          "minItems": 1
        }
      },
      {
        "name": "InitContainers",
        "jsonName": "initContainers",
        "protoField": "init_containers",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppInitContainer"
          }
        },
        "description": "Init containers run to completion before main containers start.\n Use for database migrations, configuration generation, or downloading\n assets. Init containers cannot have health probes.",
        "required": false
      },
      {
        "name": "Volumes",
        "jsonName": "volumes",
        "protoField": "volumes",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppVolume"
          }
        },
        "description": "Volumes available to containers in this app.\n Containers reference volumes by name in their volume_mounts field.",
        "required": false
      },
      {
        "name": "MinReplicas",
        "jsonName": "minReplicas",
        "protoField": "min_replicas",
        "type": {
          "kind": "int32"
        },
        "description": "Minimum number of replicas. Set to 0 for scale-to-zero (no cost when idle).\n\n Default: 0\n Range: 0-300",
        "required": false,
        "validation": {
          "max": 300
        },
        "default": "0",
        "oneofGroup": "_min_replicas"
      },
      {
        "name": "MaxReplicas",
        "jsonName": "maxReplicas",
        "protoField": "max_replicas",
        "type": {
          "kind": "int32"
        },
        "description": "Maximum number of replicas the app can scale to.\n\n Default: 10\n Range: 1-300",
        "required": false,
        "validation": {
          "min": 1,
          "max": 300
        },
        "default": "10",
        "oneofGroup": "_max_replicas"
      },
      {
        "name": "CooldownPeriodInSeconds",
        "jsonName": "cooldownPeriodInSeconds",
        "protoField": "cooldown_period_in_seconds",
        "type": {
          "kind": "int32"
        },
        "description": "Scale cooldown period in seconds. After a scale event, the scaler waits\n this duration before evaluating scale rules again.\n\n Default: 300 (5 minutes)",
        "required": false,
        "validation": {
          "min": 1
        },
        "default": "300",
        "oneofGroup": "_cooldown_period_in_seconds"
      },
      {
        "name": "PollingIntervalInSeconds",
        "jsonName": "pollingIntervalInSeconds",
        "protoField": "polling_interval_in_seconds",
        "type": {
          "kind": "int32"
        },
        "description": "KEDA polling interval in seconds. How often scale rules are evaluated.\n\n Default: 30",
        "required": false,
        "validation": {
          "min": 1
        },
        "default": "30",
        "oneofGroup": "_polling_interval_in_seconds"
      },
      {
        "name": "RevisionSuffix",
        "jsonName": "revisionSuffix",
        "protoField": "revision_suffix",
        "type": {
          "kind": "string"
        },
        "description": "Manual revision suffix. When set, the revision name becomes\n \"{app-name}--{revision_suffix}\". When omitted, Azure auto-generates a suffix.\n\n Useful for canary deployments and explicit revision tracking.",
        "required": false
      },
      {
        "name": "TerminationGracePeriodSeconds",
        "jsonName": "terminationGracePeriodSeconds",
        "protoField": "termination_grace_period_seconds",
        "type": {
          "kind": "int32"
        },
        "description": "Termination grace period in seconds. How long to wait for containers\n to gracefully shut down before forcefully terminating them.\n\n Default: 0 (immediate termination)\n Range: 0-600",
        "required": false,
        "validation": {
          "max": 600
        },
        "default": "0",
        "oneofGroup": "_termination_grace_period_seconds"
      },
      {
        "name": "HttpScaleRules",
        "jsonName": "httpScaleRules",
        "protoField": "http_scale_rules",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppHttpScaleRule"
          }
        },
        "description": "HTTP scale rules. Scale based on concurrent HTTP requests.\n Most common for web services and APIs.",
        "required": false
      },
      {
        "name": "TcpScaleRules",
        "jsonName": "tcpScaleRules",
        "protoField": "tcp_scale_rules",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppTcpScaleRule"
          }
        },
        "description": "TCP scale rules. Scale based on concurrent TCP connections.",
        "required": false
      },
      {
        "name": "AzureQueueScaleRules",
        "jsonName": "azureQueueScaleRules",
        "protoField": "azure_queue_scale_rules",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppAzureQueueScaleRule"
          }
        },
        "description": "Azure Queue scale rules. Scale based on Azure Storage Queue depth.",
        "required": false
      },
      {
        "name": "CustomScaleRules",
        "jsonName": "customScaleRules",
        "protoField": "custom_scale_rules",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppCustomScaleRule"
          }
        },
        "description": "Custom KEDA scale rules. Scale based on any KEDA-supported scaler\n (Kafka, Prometheus, Redis, cron, cpu, memory, etc.).",
        "required": false
      },
      {
        "name": "Secrets",
        "jsonName": "secrets",
        "protoField": "secrets",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppSecret"
          }
        },
        "description": "Secrets available to the app. Referenced by name in container env vars\n and registry password_secret_name.\n\n Secrets can be plain-text values or Key Vault references. Key Vault\n references require a managed identity (set identity on secret or app level).",
        "required": false
      },
      {
        "name": "Registries",
        "jsonName": "registries",
        "protoField": "registries",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AzureContainerAppRegistry"
          }
        },
        "description": "Private container registry credentials. Required to pull images from\n private registries (ACR, Docker Hub, GitHub Container Registry, etc.).\n\n Each registry authenticates via username/password (referencing a secret)\n or managed identity.",
        "required": false
      },
      {
        "name": "Ingress",
        "jsonName": "ingress",
        "protoField": "ingress",
        "type": {
          "kind": "message",
          "messageType": "AzureContainerAppIngress"
        },
        "description": "Ingress configuration. When set, the app is accessible via HTTP/TCP.\n When omitted, the app is only accessible from within the environment\n via service discovery (app name).",
        "required": false
      },
      {
        "name": "Dapr",
        "jsonName": "dapr",
        "protoField": "dapr",
        "type": {
          "kind": "message",
          "messageType": "AzureContainerAppDapr"
        },
        "description": "Dapr sidecar configuration. When set, a Dapr sidecar is injected\n alongside the app container, enabling Dapr building blocks\n (service invocation, pub/sub, state management, etc.).",
        "required": false
      },
      {
        "name": "Identity",
        "jsonName": "identity",
        "protoField": "identity",
        "type": {
          "kind": "message",
          "messageType": "AzureContainerAppIdentity"
        },
        "description": "Managed identity configuration for the app. Enables the app to\n authenticate with Azure services (Key Vault, ACR, Storage, etc.)\n without managing credentials.",
        "required": false
      }
    ]
  },
  "nestedTypes": [
    {
      "name": "AzureContainerAppAzureQueueScaleRule",
      "description": "AzureContainerAppAzureQueueScaleRule scales the app based on Azure Storage Queue depth.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppAzureQueueScaleRule",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Rule name.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "QueueName",
          "jsonName": "queueName",
          "protoField": "queue_name",
          "type": {
            "kind": "string"
          },
          "description": "Azure Storage Queue name.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "QueueLength",
          "jsonName": "queueLength",
          "protoField": "queue_length",
          "type": {
            "kind": "int32"
          },
          "description": "Queue length threshold. When the queue has more messages than this value,\n the app scales up.",
          "required": false,
          "validation": {
            "min": 1
          }
        },
        {
          "name": "Authentication",
          "jsonName": "authentication",
          "protoField": "authentication",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppScaleRuleAuth"
            }
          },
          "description": "Authentication configuration. Required for Azure Queue scale rules.\n Must include credentials to access the Azure Storage Queue.",
          "required": false,
          "validation": {
            "minItems": 1
          }
        }
      ]
    },
    {
      "name": "AzureContainerAppContainer",
      "description": "AzureContainerAppContainer defines a main container within the app.\n\n Each container specifies an image, CPU/memory allocation, environment variables,\n optional entrypoint overrides, health probes, and volume mounts.\n\n CPU and memory are required for main containers. Valid combinations depend on\n the workload profile:\n - Consumption: 0.25/0.5/0.75/1.0/1.25/1.5/1.75/2.0 vCPU\n - Dedicated: up to profile limits (e.g., D4 = 4 vCPU, 8 GiB)\n\n Memory must be specified in Gi format (e.g., \"0.5Gi\", \"1Gi\", \"2Gi\").",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppContainer",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Container name. Must be unique within the app.\n Lowercase alphanumeric, hyphens, or dots, max 46 characters.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1,
            "maxLength": 46
          }
        },
        {
          "name": "Image",
          "jsonName": "image",
          "protoField": "image",
          "type": {
            "kind": "string"
          },
          "description": "Container image in repository:tag format.\n Examples: \"mcr.microsoft.com/k8se/quickstart:latest\", \"myregistry.azurecr.io/myapp:v1.2.3\"",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Cpu",
          "jsonName": "cpu",
          "protoField": "cpu",
          "type": {
            "kind": "double"
          },
          "description": "CPU allocation in vCPU cores.\n Examples: 0.25, 0.5, 1.0, 2.0\n\n Valid values depend on the workload profile. For Consumption plan:\n 0.25, 0.5, 0.75, 1.0, 1.25, 1.5, 1.75, 2.0",
          "required": false
        },
        {
          "name": "Memory",
          "jsonName": "memory",
          "protoField": "memory",
          "type": {
            "kind": "string"
          },
          "description": "Memory allocation in Gi format.\n Examples: \"0.5Gi\", \"1Gi\", \"2Gi\", \"4Gi\"\n\n Must match the CPU allocation. For Consumption plan with 0.25 vCPU,\n memory must be \"0.5Gi\". See Azure docs for valid CPU/memory pairs.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Env",
          "jsonName": "env",
          "protoField": "env",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppEnvVar"
            }
          },
          "description": "Environment variables for the container.\n Each variable is a literal value or a reference to a secret by name.",
          "required": false
        },
        {
          "name": "Command",
          "jsonName": "command",
          "protoField": "command",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Container command (entrypoint override).\n Overrides the image's default ENTRYPOINT.",
          "required": false
        },
        {
          "name": "Args",
          "jsonName": "args",
          "protoField": "args",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Container arguments.\n Overrides the image's default CMD.",
          "required": false
        },
        {
          "name": "LivenessProbe",
          "jsonName": "livenessProbe",
          "protoField": "liveness_probe",
          "type": {
            "kind": "message",
            "messageType": "AzureContainerAppProbe"
          },
          "description": "Liveness probe. Determines if the container is alive.\n If the probe fails, the container is restarted.",
          "required": false
        },
        {
          "name": "ReadinessProbe",
          "jsonName": "readinessProbe",
          "protoField": "readiness_probe",
          "type": {
            "kind": "message",
            "messageType": "AzureContainerAppProbe"
          },
          "description": "Readiness probe. Determines if the container is ready to serve traffic.\n If the probe fails, the container is removed from load balancing.",
          "required": false
        },
        {
          "name": "StartupProbe",
          "jsonName": "startupProbe",
          "protoField": "startup_probe",
          "type": {
            "kind": "message",
            "messageType": "AzureContainerAppProbe"
          },
          "description": "Startup probe. Determines when the container has finished starting.\n During startup, liveness and readiness probes are disabled.\n Useful for slow-starting applications.",
          "required": false
        },
        {
          "name": "VolumeMounts",
          "jsonName": "volumeMounts",
          "protoField": "volume_mounts",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppVolumeMount"
            }
          },
          "description": "Volume mounts for the container. References volumes defined in the\n spec's `volumes` field by name.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppCorsPolicy",
      "description": "AzureContainerAppCorsPolicy defines Cross-Origin Resource Sharing rules for ingress.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppCorsPolicy",
      "fields": [
        {
          "name": "AllowedOrigins",
          "jsonName": "allowedOrigins",
          "protoField": "allowed_origins",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Allowed origins. At least one origin is required.\n Use \"*\" to allow all origins (not recommended for production).\n Examples: \"https://example.com\", \"https://*.contoso.com\"",
          "required": false,
          "validation": {
            "minItems": 1
          }
        },
        {
          "name": "AllowedHeaders",
          "jsonName": "allowedHeaders",
          "protoField": "allowed_headers",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Allowed HTTP headers.\n Examples: \"Content-Type\", \"Authorization\", \"X-Custom-Header\"",
          "required": false
        },
        {
          "name": "AllowedMethods",
          "jsonName": "allowedMethods",
          "protoField": "allowed_methods",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Allowed HTTP methods.\n Examples: \"GET\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\"",
          "required": false
        },
        {
          "name": "ExposedHeaders",
          "jsonName": "exposedHeaders",
          "protoField": "exposed_headers",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Headers to expose to the browser.",
          "required": false
        },
        {
          "name": "MaxAgeInSeconds",
          "jsonName": "maxAgeInSeconds",
          "protoField": "max_age_in_seconds",
          "type": {
            "kind": "int32"
          },
          "description": "Maximum time in seconds that preflight results can be cached.",
          "required": false,
          "oneofGroup": "_max_age_in_seconds"
        },
        {
          "name": "AllowCredentialsEnabled",
          "jsonName": "allowCredentialsEnabled",
          "protoField": "allow_credentials_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether to include credentials (cookies, authorization headers)\n in CORS requests.\n\n Default: false",
          "required": false,
          "default": "false",
          "oneofGroup": "_allow_credentials_enabled"
        }
      ]
    },
    {
      "name": "AzureContainerAppCustomScaleRule",
      "description": "AzureContainerAppCustomScaleRule scales the app based on any KEDA-supported scaler.\n\n KEDA supports dozens of scalers: Kafka, Prometheus, Redis, PostgreSQL, MySQL,\n cron, cpu, memory, and many more. The `custom_rule_type` identifies the scaler\n and `metadata` provides scaler-specific configuration.\n\n See https://keda.sh/docs/scalers/ for the full list of supported scalers.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppCustomScaleRule",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Rule name.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "CustomRuleType",
          "jsonName": "customRuleType",
          "protoField": "custom_rule_type",
          "type": {
            "kind": "string"
          },
          "description": "KEDA scaler type identifier.\n Examples: \"kafka\", \"prometheus\", \"redis\", \"cron\", \"cpu\", \"memory\",\n \"postgresql\", \"mysql\", \"rabbitmq\", \"azure-servicebus\"",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Metadata",
          "jsonName": "metadata",
          "protoField": "metadata",
          "type": {
            "kind": "map",
            "keyType": {
              "kind": "string"
            },
            "valueType": {
              "kind": "string"
            }
          },
          "description": "Scaler-specific metadata. Keys and values depend on the scaler type.\n\n Example for cron: {\"timezone\": \"UTC\", \"start\": \"0 8 * * 1-5\", \"end\": \"0 18 * * 1-5\", \"desiredReplicas\": \"5\"}\n Example for cpu: {\"type\": \"Utilization\", \"value\": \"70\"}\n Example for kafka: {\"bootstrapServers\": \"kafka:9092\", \"consumerGroup\": \"my-group\", \"topic\": \"my-topic\", \"lagThreshold\": \"100\"}",
          "required": false
        },
        {
          "name": "Authentication",
          "jsonName": "authentication",
          "protoField": "authentication",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppScaleRuleAuth"
            }
          },
          "description": "Authentication configuration for the scale rule.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppDapr",
      "description": "AzureContainerAppDapr configures the Dapr sidecar for the app.\n\n When configured, a Dapr sidecar is injected alongside the app container,\n providing building blocks for distributed applications:\n - Service-to-service invocation\n - Pub/sub messaging\n - State management\n - Secrets management\n - Bindings and triggers",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppDapr",
      "fields": [
        {
          "name": "AppId",
          "jsonName": "appId",
          "protoField": "app_id",
          "type": {
            "kind": "string"
          },
          "description": "Dapr application identifier. Used for service discovery and invocation.\n Other Dapr-enabled apps invoke this app using this ID.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "AppPort",
          "jsonName": "appPort",
          "protoField": "app_port",
          "type": {
            "kind": "int32"
          },
          "description": "Application port that the Dapr sidecar communicates with.\n This is the port your application listens on.",
          "required": false,
          "oneofGroup": "_app_port"
        },
        {
          "name": "AppProtocol",
          "jsonName": "appProtocol",
          "protoField": "app_protocol",
          "type": {
            "kind": "string"
          },
          "description": "Protocol used for Dapr-to-app communication.\n \"http\": HTTP/1.1 (default).\n \"grpc\": gRPC (for gRPC-based applications).\n\n Default: \"http\"",
          "required": false,
          "default": "http",
          "oneofGroup": "_app_protocol"
        }
      ]
    },
    {
      "name": "AzureContainerAppEnvVar",
      "description": "AzureContainerAppEnvVar defines an environment variable for a container.\n\n An env var is either a literal value or a reference to a secret by name.\n When `secret_name` is set, `value` is ignored and the env var's value\n comes from the named secret in the app's `secrets` list.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppEnvVar",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Environment variable name.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Value",
          "jsonName": "value",
          "protoField": "value",
          "type": {
            "kind": "string"
          },
          "description": "Literal value. Ignored when secret_name is set.",
          "required": false
        },
        {
          "name": "SecretName",
          "jsonName": "secretName",
          "protoField": "secret_name",
          "type": {
            "kind": "string"
          },
          "description": "Reference to a secret name defined in the app's `secrets` list.\n When set, the env var's value comes from the secret.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppHttpScaleRule",
      "description": "AzureContainerAppHttpScaleRule scales the app based on concurrent HTTP requests.\n\n This is the most common scale rule for web services and APIs.\n When concurrent requests exceed the threshold, the app scales up.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppHttpScaleRule",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Rule name. Must be unique within the app's scale rules.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "ConcurrentRequests",
          "jsonName": "concurrentRequests",
          "protoField": "concurrent_requests",
          "type": {
            "kind": "string"
          },
          "description": "Number of concurrent HTTP requests that triggers scaling.\n Must be a positive integer as a string (KEDA convention).\n\n Example: \"100\" means scale up when more than 100 concurrent requests per replica.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Authentication",
          "jsonName": "authentication",
          "protoField": "authentication",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppScaleRuleAuth"
            }
          },
          "description": "Authentication configuration for the scale rule.\n References secrets for KEDA scaler authentication.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppIdentity",
      "description": "AzureContainerAppIdentity configures managed identity for the app.\n\n Managed identities allow the app to authenticate with Azure services\n (Key Vault, ACR, Storage, etc.) without managing credentials.\n\n Types:\n - SystemAssigned: Azure creates and manages an identity tied to this app.\n   Simplest option. The identity is deleted when the app is deleted.\n - UserAssigned: References pre-created identities. Can be shared across\n   multiple apps and has an independent lifecycle.\n - SystemAssigned,UserAssigned: Both types simultaneously.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppIdentity",
      "fields": [
        {
          "name": "Type",
          "jsonName": "type",
          "protoField": "type",
          "type": {
            "kind": "string"
          },
          "description": "Identity type.\n \"SystemAssigned\": Azure-managed identity.\n \"UserAssigned\": Pre-created identity.\n \"SystemAssigned,UserAssigned\": Both.",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "IdentityIds",
          "jsonName": "identityIds",
          "protoField": "identity_ids",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "User Assigned Identity Azure resource IDs.\n Required when type includes \"UserAssigned\".\n\n Can be literal ARM resource IDs or references to AzureUserAssignedIdentity outputs.",
          "required": false,
          "referenceKind": "AzureUserAssignedIdentity",
          "referenceFieldPath": "status.outputs.identity_id"
        }
      ]
    },
    {
      "name": "AzureContainerAppIngress",
      "description": "AzureContainerAppIngress defines HTTP/TCP ingress for the app.\n\n When ingress is configured, the app gets a FQDN and can receive traffic.\n Without ingress, the app is only accessible from within the environment\n via service discovery (the app name).\n\n Features:\n - External or internal (environment-only) access\n - HTTP/HTTP2/TCP transport\n - Traffic splitting across revisions\n - IP security restrictions (allow/deny)\n - CORS policy for browser-based clients\n - Client certificate mode (mTLS)",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppIngress",
      "fields": [
        {
          "name": "ExternalEnabled",
          "jsonName": "externalEnabled",
          "protoField": "external_enabled",
          "type": {
            "kind": "bool"
          },
          "description": "Whether the app is accessible from outside the environment.\n\n true: App is accessible from the internet (or VNet if environment is internal).\n false: App is only accessible from within the environment.\n\n Default: false",
          "required": false,
          "default": "false",
          "oneofGroup": "_external_enabled"
        },
        {
          "name": "TargetPort",
          "jsonName": "targetPort",
          "protoField": "target_port",
          "type": {
            "kind": "int32"
          },
          "description": "Target port on the container to route traffic to. Range: 1-65535.",
          "required": false,
          "validation": {
            "min": 1,
            "max": 65535
          }
        },
        {
          "name": "ExposedPort",
          "jsonName": "exposedPort",
          "protoField": "exposed_port",
          "type": {
            "kind": "int32"
          },
          "description": "Exposed port for TCP transport. Range: 1-65535.\n Only applicable when transport is \"tcp\".",
          "required": false,
          "validation": {
            "min": 1,
            "max": 65535
          },
          "oneofGroup": "_exposed_port"
        },
        {
          "name": "Transport",
          "jsonName": "transport",
          "protoField": "transport",
          "type": {
            "kind": "string"
          },
          "description": "Transport protocol.\n \"auto\": Auto-detect (default, tries HTTP then TCP).\n \"http\": HTTP/1.1.\n \"http2\": HTTP/2 (for gRPC and long-running connections).\n \"tcp\": Raw TCP (requires exposed_port).\n\n Default: \"auto\"",
          "required": false,
          "default": "auto",
          "oneofGroup": "_transport"
        },
        {
          "name": "AllowInsecureConnections",
          "jsonName": "allowInsecureConnections",
          "protoField": "allow_insecure_connections",
          "type": {
            "kind": "bool"
          },
          "description": "Allow insecure (HTTP) connections. When false, only HTTPS is accepted\n and HTTP requests are redirected to HTTPS.\n\n Default: false (HTTPS only)",
          "required": false,
          "default": "false",
          "oneofGroup": "_allow_insecure_connections"
        },
        {
          "name": "ClientCertificateMode",
          "jsonName": "clientCertificateMode",
          "protoField": "client_certificate_mode",
          "type": {
            "kind": "string"
          },
          "description": "Client certificate mode for mTLS.\n \"Accept\": Accept client certificates but don't require them.\n \"Require\": Require client certificates for all requests.\n \"Ignore\": Ignore client certificates entirely.\n\n Omit to use Azure's default behavior (no client certificate requirement).",
          "required": false
        },
        {
          "name": "TrafficWeight",
          "jsonName": "trafficWeight",
          "protoField": "traffic_weight",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppTrafficWeight"
            }
          },
          "description": "Traffic weight distribution across revisions.\n At least one traffic weight is required when ingress is configured.\n\n For Single revision mode, typically one weight with latest_revision=true\n and percentage=100. For Multiple revision mode, weights split traffic\n across named revisions.\n\n Total percentage across all weights must equal 100.",
          "required": false,
          "validation": {
            "minItems": 1
          }
        },
        {
          "name": "IpSecurityRestrictions",
          "jsonName": "ipSecurityRestrictions",
          "protoField": "ip_security_restrictions",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppIpSecurityRestriction"
            }
          },
          "description": "IP security restrictions. Allow or deny traffic from specific IP ranges.\n Rules are evaluated in order.",
          "required": false
        },
        {
          "name": "CorsPolicy",
          "jsonName": "corsPolicy",
          "protoField": "cors_policy",
          "type": {
            "kind": "message",
            "messageType": "AzureContainerAppCorsPolicy"
          },
          "description": "CORS policy for browser-based clients.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppInitContainer",
      "description": "AzureContainerAppInitContainer defines an init container that runs\n to completion before main containers start.\n\n Use cases: database migrations, configuration generation, downloading\n assets, waiting for dependencies to become available.\n\n Init containers share the same volume mounts and secrets as main containers\n but cannot have health probes. CPU and memory are optional -- when omitted,\n init containers inherit the resource allocation of the app.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppInitContainer",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Container name. Must be unique within the app (across both containers\n and init containers).",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1,
            "maxLength": 46
          }
        },
        {
          "name": "Image",
          "jsonName": "image",
          "protoField": "image",
          "type": {
            "kind": "string"
          },
          "description": "Container image in repository:tag format.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Cpu",
          "jsonName": "cpu",
          "protoField": "cpu",
          "type": {
            "kind": "double"
          },
          "description": "CPU allocation in vCPU cores. Optional for init containers.\n When omitted, inherits from the app's overall resource allocation.",
          "required": false,
          "oneofGroup": "_cpu"
        },
        {
          "name": "Memory",
          "jsonName": "memory",
          "protoField": "memory",
          "type": {
            "kind": "string"
          },
          "description": "Memory allocation in Gi format. Optional for init containers.\n When omitted, inherits from the app's overall resource allocation.",
          "required": false,
          "oneofGroup": "_memory"
        },
        {
          "name": "Env",
          "jsonName": "env",
          "protoField": "env",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppEnvVar"
            }
          },
          "description": "Environment variables for the init container.",
          "required": false
        },
        {
          "name": "Command",
          "jsonName": "command",
          "protoField": "command",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Container command (entrypoint override).",
          "required": false
        },
        {
          "name": "Args",
          "jsonName": "args",
          "protoField": "args",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "string"
            }
          },
          "description": "Container arguments.",
          "required": false
        },
        {
          "name": "VolumeMounts",
          "jsonName": "volumeMounts",
          "protoField": "volume_mounts",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppVolumeMount"
            }
          },
          "description": "Volume mounts for the init container.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppIpSecurityRestriction",
      "description": "AzureContainerAppIpSecurityRestriction defines an IP allow/deny rule for ingress.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppIpSecurityRestriction",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Rule name.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Action",
          "jsonName": "action",
          "protoField": "action",
          "type": {
            "kind": "string"
          },
          "description": "Action to take for matching traffic.\n \"Allow\": Permit traffic from the IP range.\n \"Deny\": Block traffic from the IP range.",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "IpAddressRange",
          "jsonName": "ipAddressRange",
          "protoField": "ip_address_range",
          "type": {
            "kind": "string"
          },
          "description": "IP address or CIDR range.\n Examples: \"203.0.113.0/24\", \"10.0.0.1\"",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Description",
          "jsonName": "description",
          "protoField": "description",
          "type": {
            "kind": "string"
          },
          "description": "Optional description of the rule.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppProbe",
      "description": "AzureContainerAppProbe defines a health probe for a container.\n\n Probes support three transport types:\n - TCP: Simple port check (container is alive if port accepts connections)\n - HTTP: GET request to a path (healthy if response is 200-399)\n - HTTPS: Same as HTTP but over TLS\n\n This message is shared by liveness, readiness, and startup probes.\n The `success_count_threshold` field is only applicable to readiness probes.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppProbe",
      "fields": [
        {
          "name": "Transport",
          "jsonName": "transport",
          "protoField": "transport",
          "type": {
            "kind": "string"
          },
          "description": "Probe transport type.\n \"TCP\": Port connectivity check.\n \"HTTP\": HTTP GET request.\n \"HTTPS\": HTTPS GET request.",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "Port",
          "jsonName": "port",
          "protoField": "port",
          "type": {
            "kind": "int32"
          },
          "description": "Port to probe. Range: 1-65535.",
          "required": false,
          "validation": {
            "min": 1,
            "max": 65535
          }
        },
        {
          "name": "Path",
          "jsonName": "path",
          "protoField": "path",
          "type": {
            "kind": "string"
          },
          "description": "URI path for HTTP/HTTPS probes. Ignored for TCP probes.\n Example: \"/healthz\", \"/ready\"",
          "required": false
        },
        {
          "name": "Host",
          "jsonName": "host",
          "protoField": "host",
          "type": {
            "kind": "string"
          },
          "description": "Hostname for the probe request. When omitted, defaults to the container IP.",
          "required": false
        },
        {
          "name": "Headers",
          "jsonName": "headers",
          "protoField": "headers",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppProbeHeader"
            }
          },
          "description": "HTTP headers to include in probe requests. Only for HTTP/HTTPS probes.",
          "required": false
        },
        {
          "name": "InitialDelayInSeconds",
          "jsonName": "initialDelayInSeconds",
          "protoField": "initial_delay_in_seconds",
          "type": {
            "kind": "int32"
          },
          "description": "Seconds to wait before starting probes after container start.\n\n Default: 0 (readiness/startup), 1 (liveness)\n Range: 0-60",
          "required": false,
          "validation": {
            "max": 60
          },
          "default": "0",
          "oneofGroup": "_initial_delay_in_seconds"
        },
        {
          "name": "IntervalSeconds",
          "jsonName": "intervalSeconds",
          "protoField": "interval_seconds",
          "type": {
            "kind": "int32"
          },
          "description": "Seconds between probe executions.\n\n Default: 10\n Range: 1-240",
          "required": false,
          "validation": {
            "min": 1,
            "max": 240
          },
          "default": "10",
          "oneofGroup": "_interval_seconds"
        },
        {
          "name": "TimeoutSeconds",
          "jsonName": "timeoutSeconds",
          "protoField": "timeout_seconds",
          "type": {
            "kind": "int32"
          },
          "description": "Seconds to wait for a probe response before timing out.\n\n Default: 1\n Range: 1-240",
          "required": false,
          "validation": {
            "min": 1,
            "max": 240
          },
          "default": "1",
          "oneofGroup": "_timeout_seconds"
        },
        {
          "name": "FailureCountThreshold",
          "jsonName": "failureCountThreshold",
          "protoField": "failure_count_threshold",
          "type": {
            "kind": "int32"
          },
          "description": "Number of consecutive failures before the probe is considered failed.\n\n Default: 3\n Range: 1-30",
          "required": false,
          "validation": {
            "min": 1,
            "max": 30
          },
          "default": "3",
          "oneofGroup": "_failure_count_threshold"
        },
        {
          "name": "SuccessCountThreshold",
          "jsonName": "successCountThreshold",
          "protoField": "success_count_threshold",
          "type": {
            "kind": "int32"
          },
          "description": "Number of consecutive successes before the probe is considered successful.\n Only applicable to readiness probes; ignored for liveness and startup.\n\n Default: 3\n Range: 1-10",
          "required": false,
          "validation": {
            "min": 1,
            "max": 10
          },
          "default": "3",
          "oneofGroup": "_success_count_threshold"
        }
      ]
    },
    {
      "name": "AzureContainerAppProbeHeader",
      "description": "AzureContainerAppProbeHeader defines an HTTP header to include in a probe request.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppProbeHeader",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Header name.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Value",
          "jsonName": "value",
          "protoField": "value",
          "type": {
            "kind": "string"
          },
          "description": "Header value.",
          "required": true,
          "validation": {
            "required": true
          }
        }
      ]
    },
    {
      "name": "AzureContainerAppRegistry",
      "description": "AzureContainerAppRegistry defines credentials for a private container registry.\n\n Authentication modes (exactly one must be used):\n 1. Username/password: Set `username` and `password_secret_name` (references a secret).\n 2. Managed identity: Set `identity` (system-assigned or user-assigned identity ID).",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppRegistry",
      "fields": [
        {
          "name": "Server",
          "jsonName": "server",
          "protoField": "server",
          "type": {
            "kind": "string"
          },
          "description": "Registry server hostname.\n Examples: \"myregistry.azurecr.io\", \"ghcr.io\", \"docker.io\"",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Username",
          "jsonName": "username",
          "protoField": "username",
          "type": {
            "kind": "string"
          },
          "description": "Registry username. Required with password_secret_name.",
          "required": false
        },
        {
          "name": "PasswordSecretName",
          "jsonName": "passwordSecretName",
          "protoField": "password_secret_name",
          "type": {
            "kind": "string"
          },
          "description": "Secret name containing the registry password.\n Must reference a secret defined in the app's `secrets` list.\n Required with username.",
          "required": false
        },
        {
          "name": "Identity",
          "jsonName": "identity",
          "protoField": "identity",
          "type": {
            "kind": "string"
          },
          "description": "Managed identity for registry authentication.\n Value is either \"System\" (system-assigned) or a User Assigned Identity\n Azure resource ID. Alternative to username/password.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppScaleRuleAuth",
      "description": "AzureContainerAppScaleRuleAuth provides authentication for a scale rule.\n References a secret by name and maps it to a scaler-specific trigger parameter.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppScaleRuleAuth",
      "fields": [
        {
          "name": "SecretName",
          "jsonName": "secretName",
          "protoField": "secret_name",
          "type": {
            "kind": "string"
          },
          "description": "Name of the secret in the app's `secrets` list.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "TriggerParameter",
          "jsonName": "triggerParameter",
          "protoField": "trigger_parameter",
          "type": {
            "kind": "string"
          },
          "description": "Scaler-specific trigger parameter name that this secret maps to.\n The parameter name depends on the scale rule type.\n\n Examples:\n - Azure Queue: \"connection\"\n - Kafka: \"sasl\" or \"tls\"\n - Custom: varies by scaler",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        }
      ]
    },
    {
      "name": "AzureContainerAppSecret",
      "description": "AzureContainerAppSecret defines a secret available to the app.\n\n Secrets can be:\n 1. Plain-text value: Set `value` directly. Simple but less secure.\n 2. Key Vault reference: Set `key_vault_secret_id` + `identity`.\n    The identity must have read access to the Key Vault secret.\n\n Secrets are referenced by name in:\n - Container env vars (via secret_name)\n - Registry credentials (via password_secret_name)\n - Scale rule authentication (via secret_name)",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppSecret",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Secret name. Lowercase alphanumeric or hyphens, max 253 characters.\n This name is used to reference the secret elsewhere in the spec.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1,
            "maxLength": 253
          }
        },
        {
          "name": "Value",
          "jsonName": "value",
          "protoField": "value",
          "type": {
            "kind": "string"
          },
          "description": "Plain-text secret value. Mutually exclusive with key_vault_secret_id.",
          "required": false
        },
        {
          "name": "KeyVaultSecretId",
          "jsonName": "keyVaultSecretId",
          "protoField": "key_vault_secret_id",
          "type": {
            "kind": "string"
          },
          "description": "Key Vault secret URI. Format:\n https://{vault-name}.vault.azure.net/secrets/{secret-name}\n or with version: https://{vault-name}.vault.azure.net/secrets/{secret-name}/{version}\n\n Requires `identity` to be set for Key Vault access.\n Mutually exclusive with `value`.",
          "required": false
        },
        {
          "name": "Identity",
          "jsonName": "identity",
          "protoField": "identity",
          "type": {
            "kind": "string"
          },
          "description": "Identity for Key Vault access. Required when key_vault_secret_id is set.\n\n Value is either:\n - \"System\": Use the app's system-assigned managed identity\n - A User Assigned Identity Azure resource ID",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppTcpScaleRule",
      "description": "AzureContainerAppTcpScaleRule scales the app based on concurrent TCP connections.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppTcpScaleRule",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Rule name.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "ConcurrentRequests",
          "jsonName": "concurrentRequests",
          "protoField": "concurrent_requests",
          "type": {
            "kind": "string"
          },
          "description": "Number of concurrent TCP connections that triggers scaling.\n Must be a positive integer as a string.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Authentication",
          "jsonName": "authentication",
          "protoField": "authentication",
          "type": {
            "kind": "array",
            "elementType": {
              "kind": "message",
              "messageType": "AzureContainerAppScaleRuleAuth"
            }
          },
          "description": "Authentication configuration for the scale rule.",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppTrafficWeight",
      "description": "AzureContainerAppTrafficWeight defines how traffic is distributed across revisions.\n\n Either `latest_revision` must be true OR `revision_suffix` must be set.\n For Single revision mode, use latest_revision=true with percentage=100.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppTrafficWeight",
      "fields": [
        {
          "name": "LatestRevision",
          "jsonName": "latestRevision",
          "protoField": "latest_revision",
          "type": {
            "kind": "bool"
          },
          "description": "Route traffic to the latest revision.\n When true, revision_suffix is ignored and traffic goes to the latest active revision.",
          "required": false,
          "default": "false",
          "oneofGroup": "_latest_revision"
        },
        {
          "name": "RevisionSuffix",
          "jsonName": "revisionSuffix",
          "protoField": "revision_suffix",
          "type": {
            "kind": "string"
          },
          "description": "Target a specific revision by suffix.\n The full revision name is \"{app-name}--{revision_suffix}\".\n Required when latest_revision is false.",
          "required": false
        },
        {
          "name": "Percentage",
          "jsonName": "percentage",
          "protoField": "percentage",
          "type": {
            "kind": "int32"
          },
          "description": "Percentage of traffic to route to this revision.\n All weights must sum to 100. Range: 0-100.",
          "required": false,
          "validation": {
            "max": 100
          }
        },
        {
          "name": "Label",
          "jsonName": "label",
          "protoField": "label",
          "type": {
            "kind": "string"
          },
          "description": "Optional label prefix for this traffic weight.\n When set, the revision gets an additional FQDN: {label}.{app-fqdn}",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppVolume",
      "description": "AzureContainerAppVolume defines a volume available to containers.\n\n Supported storage types:\n - EmptyDir (default): Ephemeral storage, fast, lost when the replica terminates.\n   Good for scratch space, caching, temporary files.\n - AzureFile: Persistent Azure Files share. Survives replica restarts.\n   Requires a storage resource configured in the Container App Environment.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppVolume",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Volume name. Referenced by containers in their volume_mounts field.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "StorageType",
          "jsonName": "storageType",
          "protoField": "storage_type",
          "type": {
            "kind": "string"
          },
          "description": "Storage type. \"EmptyDir\" for ephemeral storage, \"AzureFile\" for persistent.\n\n Default: \"EmptyDir\"",
          "required": false,
          "default": "EmptyDir",
          "oneofGroup": "_storage_type"
        },
        {
          "name": "StorageName",
          "jsonName": "storageName",
          "protoField": "storage_name",
          "type": {
            "kind": "string"
          },
          "description": "Name of the Container App Environment storage resource.\n Required when storage_type is \"AzureFile\".\n References a storage resource created via azurerm_container_app_environment_storage.",
          "required": false
        },
        {
          "name": "MountOptions",
          "jsonName": "mountOptions",
          "protoField": "mount_options",
          "type": {
            "kind": "string"
          },
          "description": "Comma-separated mount options for the volume.\n Example: \"uid=1000,gid=1000\"",
          "required": false
        }
      ]
    },
    {
      "name": "AzureContainerAppVolumeMount",
      "description": "AzureContainerAppVolumeMount mounts a volume into a container at a specified path.",
      "protoType": "org.openmcf.provider.azure.azurecontainerapp.v1.AzureContainerAppVolumeMount",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Name of the volume to mount. Must match a volume name in the spec's `volumes` field.",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "Path",
          "jsonName": "path",
          "protoField": "path",
          "type": {
            "kind": "string"
          },
          "description": "Absolute path inside the container where the volume is mounted.\n Example: \"/data\", \"/mnt/config\"",
          "required": true,
          "validation": {
            "required": true,
            "minLength": 1
          }
        },
        {
          "name": "SubPath",
          "jsonName": "subPath",
          "protoField": "sub_path",
          "type": {
            "kind": "string"
          },
          "description": "Sub-path within the volume to mount. When omitted, the entire volume is mounted.",
          "required": false
        }
      ]
    }
  ]
}
