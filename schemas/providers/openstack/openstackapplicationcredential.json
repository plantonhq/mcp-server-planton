{
  "name": "OpenStackApplicationCredential",
  "kind": "OpenStackApplicationCredential",
  "cloudProvider": "openstack",
  "apiVersion": "openstack.openmcf.org/v1",
  "description": "OpenStackApplicationCredential is a Kubernetes Resource Model (KRM) style\n resource for managing OpenStack Identity application credentials.\n\n Application credentials allow applications to authenticate to OpenStack\n without using a user's password. They are scoped to the project that was\n active during creation and can be restricted to specific roles and API\n access patterns.\n\n IMPORTANT: This is an immutable resource. Any change to the spec requires\n destroying and recreating the credential, which generates a new secret.",
  "protoPackage": "org.openmcf.provider.openstack.openstackapplicationcredential.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/openstack/openstackapplicationcredential/v1/api.proto",
    "spec": "org/openmcf/provider/openstack/openstackapplicationcredential/v1/spec.proto"
  },
  "spec": {
    "name": "OpenStackApplicationCredentialSpec",
    "fields": [
      {
        "name": "Description",
        "jsonName": "description",
        "protoField": "description",
        "type": {
          "kind": "string"
        },
        "description": "description is a human-readable description of the application credential.\n ForceNew: cannot be changed after creation.",
        "required": false
      },
      {
        "name": "Unrestricted",
        "jsonName": "unrestricted",
        "protoField": "unrestricted",
        "type": {
          "kind": "bool"
        },
        "description": "unrestricted controls whether the application credential can create\n additional application credentials or trusts.\n Default: false (restricted). Setting to true is a security risk --\n an unrestricted credential can be used to create sub-credentials.\n ForceNew: cannot be changed after creation.",
        "required": false,
        "default": "false",
        "oneofGroup": "_unrestricted"
      },
      {
        "name": "Secret",
        "jsonName": "secret",
        "protoField": "secret",
        "type": {
          "kind": "string"
        },
        "description": "secret is the application credential secret.\n If omitted, OpenStack generates a random secret.\n If provided, the user-specified secret is used.\n ForceNew: cannot be changed after creation.\n The secret is sensitive and should be stored securely.",
        "required": false
      },
      {
        "name": "Roles",
        "jsonName": "roles",
        "protoField": "roles",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "roles is a list of role names to scope the application credential.\n The credential can only perform actions allowed by these roles.\n If omitted, the credential inherits all roles of the creating user\n on the current project.\n ForceNew: cannot be changed after creation.",
        "required": false
      },
      {
        "name": "AccessRules",
        "jsonName": "accessRules",
        "protoField": "access_rules",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AccessRule"
          }
        },
        "description": "access_rules restricts the credential to specific API operations.\n Each rule specifies a service, HTTP method, and URL path pattern.\n When set, the credential can ONLY call the specified APIs.\n ForceNew: cannot be changed after creation.",
        "required": false
      },
      {
        "name": "ExpiresAt",
        "jsonName": "expiresAt",
        "protoField": "expires_at",
        "type": {
          "kind": "string"
        },
        "description": "expires_at is the expiration timestamp in RFC3339 format.\n After this time, the credential becomes invalid.\n If omitted, the credential does not expire.\n ForceNew: cannot be changed after creation.\n Example: \"2027-01-01T00:00:00Z\"",
        "required": false
      },
      {
        "name": "Region",
        "jsonName": "region",
        "protoField": "region",
        "type": {
          "kind": "string"
        },
        "description": "region overrides the region from the provider config.\n If omitted, the region from the OpenStack provider config is used.\n Example: \"RegionOne\"",
        "required": false
      }
    ]
  },
  "nestedTypes": [
    {
      "name": "AccessRule",
      "description": "AccessRule restricts an application credential to a specific API operation.\n\n Each rule specifies:\n   - service: the OpenStack service type (e.g., \"compute\", \"identity\", \"block-storage\")\n   - method: the HTTP method (e.g., \"GET\", \"POST\")\n   - path: the URL path pattern (e.g., \"/v3/projects\", \"/v2.1/servers/*\")\n\n When access_rules are set on an application credential, the credential\n can ONLY call the matching APIs.",
      "protoType": "org.openmcf.provider.openstack.openstackapplicationcredential.v1.AccessRule",
      "fields": [
        {
          "name": "Path",
          "jsonName": "path",
          "protoField": "path",
          "type": {
            "kind": "string"
          },
          "description": "path is the URL path pattern for the API endpoint.\n Supports wildcards: \"/v2.1/servers/*\" matches all server sub-paths.\n Required.",
          "required": false,
          "validation": {
            "minLength": 1
          }
        },
        {
          "name": "Method",
          "jsonName": "method",
          "protoField": "method",
          "type": {
            "kind": "string"
          },
          "description": "method is the HTTP method allowed for this rule.\n Must be one of the standard HTTP methods.\n Required.",
          "required": false,
          "validation": {
            "minLength": 1,
            "enum": [
              "POST",
              "GET",
              "HEAD",
              "PATCH",
              "PUT",
              "DELETE"
            ]
          }
        },
        {
          "name": "Service",
          "jsonName": "service",
          "protoField": "service",
          "type": {
            "kind": "string"
          },
          "description": "service is the OpenStack service type for this rule.\n Examples: \"identity\", \"compute\", \"block-storage\", \"image\", \"network\"\n Required.",
          "required": false,
          "validation": {
            "minLength": 1
          }
        }
      ]
    }
  ]
}
