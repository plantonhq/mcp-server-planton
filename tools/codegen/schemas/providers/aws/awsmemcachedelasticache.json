{
  "name": "AwsMemcachedElasticache",
  "kind": "AwsMemcachedElasticache",
  "cloudProvider": "aws",
  "apiVersion": "aws.openmcf.org/v1",
  "description": "aws-memcached-elasticache",
  "protoPackage": "org.openmcf.provider.aws.awsmemcachedelasticache.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/aws/awsmemcachedelasticache/v1/api.proto",
    "spec": "org/openmcf/provider/aws/awsmemcachedelasticache/v1/spec.proto"
  },
  "spec": {
    "name": "AwsMemcachedElasticacheSpec",
    "fields": [
      {
        "name": "Region",
        "jsonName": "region",
        "protoField": "region",
        "type": {
          "kind": "string"
        },
        "description": "The AWS region where the resource will be created.\n Example: \"us-west-2\", \"eu-west-1\"",
        "required": false,
        "validation": {
          "minLength": 1
        }
      },
      {
        "name": "EngineVersion",
        "jsonName": "engineVersion",
        "protoField": "engine_version",
        "type": {
          "kind": "string"
        },
        "description": "Memcached engine version to deploy. Uses three-part versioning:\n \"1.6.22\", \"1.6.17\", \"1.5.16\", etc.\n Transit encryption requires version 1.6.12 or later.",
        "required": true,
        "validation": {
          "required": true
        }
      },
      {
        "name": "NodeType",
        "jsonName": "nodeType",
        "protoField": "node_type",
        "type": {
          "kind": "string"
        },
        "description": "ElastiCache node type. Determines CPU, memory, and network capacity.\n Examples: \"cache.t3.micro\" (dev), \"cache.r7g.large\" (production).\n Changing node_type forces cluster recreation — Memcached does not support\n vertical scaling in-place.",
        "required": true,
        "validation": {
          "required": true
        }
      },
      {
        "name": "NumCacheNodes",
        "jsonName": "numCacheNodes",
        "protoField": "num_cache_nodes",
        "type": {
          "kind": "int32"
        },
        "description": "Number of cache nodes in the cluster. Memcached distributes keys across\n all nodes via consistent hashing. Range: 1–40. Default: 1.",
        "required": false,
        "validation": {
          "min": 1,
          "max": 40
        }
      },
      {
        "name": "AzMode",
        "jsonName": "azMode",
        "protoField": "az_mode",
        "type": {
          "kind": "string"
        },
        "description": "AZ distribution mode. \"single-az\" places all nodes in one AZ (default).\n \"cross-az\" distributes nodes across multiple AZs for resilience.\n cross-az requires num_cache_nodes \u003e 1.",
        "required": false
      },
      {
        "name": "Port",
        "jsonName": "port",
        "protoField": "port",
        "type": {
          "kind": "int32"
        },
        "description": "Port on which the cluster accepts connections. Default: 11211.\n This is a ForceNew attribute — changing it destroys and recreates the\n cluster.",
        "required": false,
        "validation": {
          "min": 1,
          "max": 65535
        },
        "default": "11211",
        "oneofGroup": "_port"
      },
      {
        "name": "TransitEncryptionEnabled",
        "jsonName": "transitEncryptionEnabled",
        "protoField": "transit_encryption_enabled",
        "type": {
          "kind": "bool"
        },
        "description": "Enable encryption in transit (TLS) for all client connections.\n Requires Memcached engine version 1.6.12 or later. Attempting to enable\n this on earlier versions will result in an AWS API error.\n Note: Memcached does NOT support encryption at rest.",
        "required": false
      },
      {
        "name": "SubnetIds",
        "jsonName": "subnetIds",
        "protoField": "subnet_ids",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "Subnet IDs for the ElastiCache subnet group. Provide subnets in at least\n two AZs when using cross-az mode. A subnet group is created automatically\n from these subnets.",
        "required": false,
        "referenceKind": "AwsVpc",
        "referenceFieldPath": "status.outputs.private_subnets.[*].id"
      },
      {
        "name": "SecurityGroupIds",
        "jsonName": "securityGroupIds",
        "protoField": "security_group_ids",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "VPC security groups to attach to the cluster nodes. Controls network-level\n access to the Memcached endpoint. Since Memcached has no authentication,\n security groups are the primary access control mechanism.",
        "required": false,
        "referenceKind": "AwsSecurityGroup",
        "referenceFieldPath": "status.outputs.security_group_id"
      },
      {
        "name": "ParameterGroupFamily",
        "jsonName": "parameterGroupFamily",
        "protoField": "parameter_group_family",
        "type": {
          "kind": "string"
        },
        "description": "Parameter group family for custom parameters. Required when `parameters`\n is provided. Examples: \"memcached1.6\", \"memcached1.5\", \"memcached1.4\".",
        "required": false
      },
      {
        "name": "Parameters",
        "jsonName": "parameters",
        "protoField": "parameters",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "message",
            "messageType": "AwsMemcachedElasticacheParameter"
          }
        },
        "description": "Custom cache parameters to apply via a managed parameter group. Common\n Memcached parameters include: chunk_size, chunk_size_growth_factor,\n max_simultaneous_connections, binding_protocol.",
        "required": false
      },
      {
        "name": "MaintenanceWindow",
        "jsonName": "maintenanceWindow",
        "protoField": "maintenance_window",
        "type": {
          "kind": "string"
        },
        "description": "Weekly maintenance window in UTC. Format: \"ddd:hh24:mi-ddd:hh24:mi\".\n Example: \"sun:05:00-sun:06:00\". Leave empty for AWS-assigned default.",
        "required": false,
        "validation": {
          "pattern": "^(mon|tue|wed|thu|fri|sat|sun):([01][0-9]|2[0-3]):[0-5][0-9]-(mon|tue|wed|thu|fri|sat|sun):([01][0-9]|2[0-3]):[0-5][0-9]$"
        }
      },
      {
        "name": "ApplyImmediately",
        "jsonName": "applyImmediately",
        "protoField": "apply_immediately",
        "type": {
          "kind": "bool"
        },
        "description": "Apply changes immediately instead of waiting for the next maintenance\n window. May cause brief downtime for some operations.",
        "required": false
      },
      {
        "name": "AutoMinorVersionUpgrade",
        "jsonName": "autoMinorVersionUpgrade",
        "protoField": "auto_minor_version_upgrade",
        "type": {
          "kind": "bool"
        },
        "description": "Automatically apply minor engine version upgrades during maintenance\n windows. Recommended for staying on supported versions.",
        "required": false,
        "recommendedDefault": "true"
      },
      {
        "name": "NotificationTopicArn",
        "jsonName": "notificationTopicArn",
        "protoField": "notification_topic_arn",
        "type": {
          "kind": "string"
        },
        "description": "SNS topic ARN for cluster event notifications (node additions, removals,\n maintenance events, etc.).",
        "required": false,
        "referenceKind": "AwsSnsTopic",
        "referenceFieldPath": "status.outputs.topic_arn"
      },
      {
        "name": "PreferredAvailabilityZones",
        "jsonName": "preferredAvailabilityZones",
        "protoField": "preferred_availability_zones",
        "type": {
          "kind": "array",
          "elementType": {
            "kind": "string"
          }
        },
        "description": "Preferred Availability Zones for the cache nodes. When provided, the list\n length must match num_cache_nodes. Nodes are placed in the specified AZs\n in order. Leave empty for AWS-managed AZ distribution.",
        "required": false
      }
    ]
  },
  "nestedTypes": [
    {
      "name": "AwsMemcachedElasticacheParameter",
      "description": "AwsMemcachedElasticacheParameter defines a single cache parameter override\n for the managed parameter group. Parameters tune Memcached engine behavior\n (e.g., chunk_size, max_simultaneous_connections, binding_protocol).",
      "protoType": "org.openmcf.provider.aws.awsmemcachedelasticache.v1.AwsMemcachedElasticacheParameter",
      "fields": [
        {
          "name": "Name",
          "jsonName": "name",
          "protoField": "name",
          "type": {
            "kind": "string"
          },
          "description": "Parameter name (e.g., \"chunk_size\", \"binding_protocol\").",
          "required": true,
          "validation": {
            "required": true
          }
        },
        {
          "name": "Value",
          "jsonName": "value",
          "protoField": "value",
          "type": {
            "kind": "string"
          },
          "description": "Parameter value (e.g., \"96\", \"auto\").",
          "required": true,
          "validation": {
            "required": true
          }
        }
      ]
    }
  ]
}
