{
  "name": "OciDynamicGroup",
  "kind": "OciDynamicGroup",
  "cloudProvider": "oci",
  "apiVersion": "oci.openmcf.org/v1",
  "description": "OciDynamicGroup is the top-level resource representing an Oracle Cloud\n Infrastructure dynamic group for granting OCI resources (compute instances,\n functions, etc.) the ability to authenticate and call OCI APIs.",
  "protoPackage": "org.openmcf.provider.oci.ocidynamicgroup.v1",
  "protoFiles": {
    "api": "org/openmcf/provider/oci/ocidynamicgroup/v1/api.proto",
    "spec": "org/openmcf/provider/oci/ocidynamicgroup/v1/spec.proto"
  },
  "spec": {
    "name": "OciDynamicGroupSpec",
    "fields": [
      {
        "name": "CompartmentId",
        "jsonName": "compartmentId",
        "protoField": "compartment_id",
        "type": {
          "kind": "string"
        },
        "description": "OCID of the tenancy (root compartment).\n Dynamic groups are tenancy-level IAM resources and must be created\n in the tenancy compartment, not a child compartment.",
        "required": true,
        "validation": {
          "required": true
        },
        "referenceKind": "OciCompartment",
        "referenceFieldPath": "status.outputs.compartmentId"
      },
      {
        "name": "Name",
        "jsonName": "name",
        "protoField": "name",
        "type": {
          "kind": "string"
        },
        "description": "Name assigned to the dynamic group.\n Must be unique across all groups (including user groups) in the tenancy\n and cannot be changed after creation.\n Falls back to metadata.name if not provided.",
        "required": false
      },
      {
        "name": "Description",
        "jsonName": "description",
        "protoField": "description",
        "type": {
          "kind": "string"
        },
        "description": "Description of the dynamic group's purpose.\n Required by the OCI API. Updatable after creation.",
        "required": false,
        "validation": {
          "minLength": 1
        }
      },
      {
        "name": "MatchingRule",
        "jsonName": "matchingRule",
        "protoField": "matching_rule",
        "type": {
          "kind": "string"
        },
        "description": "Matching rule that defines which resources belong to this dynamic group.\n Uses OCI's rule syntax, e.g.:\n   \"Any {instance.compartment.id = 'ocid1.compartment.oc1..xxx'}\"\n   \"All {resource.type = 'fnfunc', resource.compartment.id = 'ocid1...'}\"\n See https://docs.oracle.com/iaas/Content/Identity/Tasks/managingdynamicgroups.htm",
        "required": false,
        "validation": {
          "minLength": 1
        }
      }
    ]
  }
}
